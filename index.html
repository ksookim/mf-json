<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.8">
<title>OGC Moving Features Encoding Extension - JSON</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<link rel="stylesheet" href="./asciidoctor.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="./coderay-asciidoctor.css">
</head>
<body class="book">
<div id="header">
<h1>OGC Moving Features Encoding Extension - JSON</h1>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div style="page-break-after: always;"></div>
<table class="tableblock frame-none grid-none stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong class="big">Open Geospatial Consortium</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Submission Date: &lt;yyyy-mm-dd&gt;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Approval Date:   &lt;yyyy-mm-dd&gt;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Publication Date:   &lt;yyyy-mm-dd&gt;</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">External identifier of this OGC® document: <a href="http://www.opengis.net/doc/{doc-type}/{standard}/{m.n}" class="bare">http://www.opengis.net/doc/{doc-type}/{standard}/{m.n}</a></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Internal reference number of this OGC® document:    YY-nnnrx</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Version: n.n</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Category: OGC® Implementation</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Editor: Kyoung-Sook KIM, Nobuhiro ISHIMARU</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-none grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong class="big">OGC Moving Features Encoding Extension - JSON</strong></p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-none grid-none stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Copyright notice</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Copyright © 2018 Open Geospatial Consortium</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">To obtain additional rights of use, visit <a href="http://www.opengeospatial.org/legal/" class="bare">http://www.opengeospatial.org/legal/</a></p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-none grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><strong>Warning</strong></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>This document is not an OGC Standard. This document is distributed for review and comment. This document is subject to change without notice and may not be referred to as an OGC Standard.</p>
</div>
<div class="paragraph">
<p>Recipients of this document are invited to submit, with their comments, notification of any relevant patent rights of which they are aware and to provide supporting documentation.</p>
</div>
<table class="tableblock frame-all grid-none" style="width: 50%;">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Document type:   	OGC® Standard</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Document subtype:  Encoding</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Document stage:   	Draft</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Document language: English</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
<div class="paragraph">
<p>License Agreement</p>
</div>
<div class="paragraph">
<p><span class="small">Permission is hereby granted by the Open Geospatial Consortium, ("Licensor"), free of charge and subject to the terms set forth below, to any person obtaining a copy of this Intellectual Property and any associated documentation, to deal in the Intellectual Property without restriction (except as set forth below), including without limitation the rights to implement, use, copy, modify, merge, publish, distribute, and/or sublicense copies of the Intellectual Property, and to permit persons to whom the Intellectual Property is furnished to do so, provided that all copyright notices on the intellectual property are retained intact and that each person to whom the Intellectual Property is furnished agrees to the terms of this Agreement.</span></p>
</div>
<div class="paragraph">
<p><span class="small">If you modify the Intellectual Property, all copies of the modified Intellectual Property must include, in addition to the above copyright notice, a notice that the Intellectual Property includes modifications that have not been approved or adopted by LICENSOR.</span></p>
</div>
<div class="paragraph">
<p><span class="small">THIS LICENSE IS A COPYRIGHT LICENSE ONLY, AND DOES NOT CONVEY ANY RIGHTS UNDER ANY PATENTS THAT MAY BE IN FORCE ANYWHERE IN THE WORLD.</span></p>
</div>
<div class="paragraph">
<p><span class="small">THE INTELLECTUAL PROPERTY IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, AND NONINFRINGEMENT OF THIRD PARTY RIGHTS. THE COPYRIGHT HOLDER OR HOLDERS INCLUDED IN THIS NOTICE DO NOT WARRANT THAT THE FUNCTIONS CONTAINED IN THE INTELLECTUAL PROPERTY WILL MEET YOUR REQUIREMENTS OR THAT THE OPERATION OF THE INTELLECTUAL PROPERTY WILL BE UNINTERRUPTED OR ERROR FREE. ANY USE OF THE INTELLECTUAL PROPERTY SHALL BE MADE ENTIRELY AT THE USER’S OWN RISK. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR ANY CONTRIBUTOR OF INTELLECTUAL PROPERTY RIGHTS TO THE INTELLECTUAL PROPERTY BE LIABLE FOR ANY CLAIM, OR ANY DIRECT, SPECIAL, INDIRECT OR CONSEQUENTIAL DAMAGES, OR ANY DAMAGES WHATSOEVER RESULTING FROM ANY ALLEGED INFRINGEMENT OR ANY LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR UNDER ANY OTHER LEGAL THEORY, ARISING OUT OF OR IN CONNECTION WITH THE IMPLEMENTATION, USE, COMMERCIALIZATION OR PERFORMANCE OF THIS INTELLECTUAL PROPERTY.</span></p>
</div>
<div class="paragraph">
<p><span class="small">This license is effective until terminated. You may terminate it at any time by destroying the Intellectual Property together with all copies in any form. The license will also terminate if you fail to comply with any term or condition of this Agreement. Except as provided in the following sentence, no such termination of this license shall require the termination of any third party end-user sublicense to the Intellectual Property which is in force as of the date of notice of such termination. In addition, should the Intellectual Property, or the operation of the Intellectual Property, infringe, or in LICENSOR’s sole opinion be likely to infringe, any patent, copyright, trademark or other right of a third party, you agree that LICENSOR, in its sole discretion, may terminate this license without any compensation or liability to you, your licensees or any other party. You agree upon termination of any kind to destroy or cause to be destroyed the Intellectual Property together with all copies in any form, whether held by you or by any third party.</span></p>
</div>
<div class="paragraph">
<p><span class="small">Except as contained in this notice, the name of LICENSOR or of any other holder of a copyright in all or part of the Intellectual Property shall not be used in advertising or otherwise to promote the sale, use or other dealings in this Intellectual Property without prior written authorization of LICENSOR or such copyright holder. LICENSOR is and shall at all times be the sole entity that may authorize you or any third party to use certification marks, trademarks or other special designations to indicate compliance with any LICENSOR standards or specifications. This Agreement is governed by the laws of the Commonwealth of Massachusetts. The application to this Agreement of the United Nations Convention on Contracts for the International Sale of Goods is hereby expressly excluded. In the event any provision of this Agreement shall be deemed unenforceable, void or invalid, such provision shall be modified so as to make it valid and enforceable, and as so modified the entire Agreement shall remain in full force and effect. No decision, action or inaction by LICENSOR shall be construed to be a waiver of any rights or remedies available to it.</span></p>
</div>
<div style="page-break-after: always;"></div>
<div id="toc" class="toc">
<div id="toctitle" class="title">Contents</div>
<ul class="sectlevel1">
<li><a href="#_scope">1. Scope</a></li>
<li><a href="#_conformance">2. Conformance</a></li>
<li><a href="#_references">3. References</a></li>
<li><a href="#_terms_and_definitions">4. Terms and Definitions</a>
<ul class="sectlevel2">
<li><a href="#_base_representation">4.1. <strong>base representation</strong></a></li>
<li><a href="#_coordinate">4.2. <strong>coordinate</strong></a></li>
<li><a href="#_coordinate_reference_system">4.3. <strong>coordinate reference system</strong></a></li>
<li><a href="#_curve">4.4. <strong>curve</strong></a></li>
<li><a href="#_domain">4.5. <strong>domain</strong></a></li>
<li><a href="#_dynamic_attribute">4.6. <strong>dynamic attribute</strong></a></li>
<li><a href="#_encoding">4.7. <strong>encoding</strong></a></li>
<li><a href="#_engineering_coordinate_reference_system">4.8. <strong>engineering coordinate reference system</strong></a></li>
<li><a href="#_feature">4.9. <strong>feature</strong></a></li>
<li><a href="#_feature_attribute">4.10. <strong>feature attribute</strong></a></li>
<li><a href="#_feature_collection_collection">4.11. <strong>feature collection; collection</strong></a></li>
<li><a href="#_foliation">4.12. <strong>foliation</strong></a></li>
<li><a href="#_geometric_object">4.13. <strong>geometric object</strong></a></li>
<li><a href="#_geometric_primitive">4.14. <strong>geometric primitive</strong></a></li>
<li><a href="#_instant">4.15. <strong>instant</strong></a></li>
<li><a href="#_leaf">4.16. <strong>leaf</strong></a></li>
<li><a href="#_life_span">4.17. <strong>life span</strong></a></li>
<li><a href="#_motion">4.18. <strong>motion</strong></a></li>
<li><a href="#_moving_feature">4.19. <strong>moving feature</strong></a></li>
<li><a href="#_one_parameter_set_of_geometries">4.20. <strong>one parameter set of geometries</strong></a></li>
<li><a href="#_one_parameter_set_of_values">4.21. <strong>one parameter set of values</strong></a></li>
<li><a href="#_parametric_coordinate_reference_system">4.22. <strong>parametric coordinate reference system</strong></a></li>
<li><a href="#_parametric_datum">4.23. <strong>parametric datum</strong></a></li>
<li><a href="#_period">4.24. <strong>period</strong></a></li>
<li><a href="#_position">4.25. <strong>position</strong></a></li>
<li><a href="#_prism">4.26. <strong>prism</strong></a></li>
<li><a href="#_temporal_coordinate_reference_system">4.27. <strong>temporal coordinate reference system</strong></a></li>
<li><a href="#_temporal_datum">4.28. <strong>temporal datum</strong></a></li>
<li><a href="#_temporal_geometry">4.29. <strong>temporal geometry</strong></a></li>
<li><a href="#_trajectory">4.30. <strong>trajectory</strong></a></li>
<li><a href="#_value">4.31. <strong>value</strong></a></li>
</ul>
</li>
<li><a href="#_conventions">5. Conventions</a>
<ul class="sectlevel2">
<li><a href="#_identifiers">5.1. Identifiers</a></li>
<li><a href="#_json_notation">5.2. JSON notation</a></li>
<li><a href="#_uml_notation">5.3. UML notation</a></li>
<li><a href="#_abbreviated_terms">5.4. Abbreviated terms</a></li>
</ul>
</li>
<li><a href="#_overview_of_moving_features_json_encodings_informative">6. Overview of Moving Features JSON Encodings (Informative)</a></li>
<li><a href="#_moving_features_json_encodings_mf_json_specification">7. Moving Features JSON Encodings (MF-JSON) Specification</a>
<ul class="sectlevel2">
<li><a href="#_mf_json_trajectory_encoding">7.1. MF-JSON Trajectory Encoding</a></li>
<li><a href="#_mf_json_prism_encoding">7.2. MF-JSON Prism Encoding</a>
<ul class="sectlevel3">
<li><a href="#tgeometry">7.2.1. TemporalGeometry Object</a></li>
<li><a href="#tproperties">7.2.2. TemporalProperties Object</a></li>
<li><a href="#crs">7.2.3. CoordinateReferenceSystem Object</a></li>
<li><a href="#mfeature">7.2.4. MovingFeature Object</a></li>
<li><a href="#mfeaturecollection">7.2.5. MovingFeatureCollection Object</a></li>
<li><a href="#time">7.2.6. LifeSpan Object</a></li>
<li><a href="#bbox">BoundingBox Object</a></li>
<li><a href="#geometry">Geometry Object</a></li>
<li><a href="#properties">7.2.7. Properties Object</a></li>
<li><a href="#interpolation">7.2.8. MotionCurve Objects</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_media_types">8. Media Types</a></li>
<li><a href="#_conformance_class_abstract_test_suite_normative">Annex A: Conformance Class Abstract Test Suite (Normative)</a>
<ul class="sectlevel2">
<li><a href="#_conformance_class_a">A.1. Conformance Class A</a>
<ul class="sectlevel3">
<li><a href="#_requirement_1">A.1.1. Requirement 1</a></li>
<li><a href="#_requirement_2">A.1.2. Requirement 2</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_title_normativeinformative">Annex B: Title ( {Normative/Informative} )</a></li>
<li><a href="#_revision_history">Annex C: Revision History</a></li>
<li><a href="#Bibliography">Annex D: Bibliography</a></li>
</ul>
</div>
<div style="page-break-after: always;"></div>
<div class="paragraph">
<p><strong class="big">i.     Abstract</strong></p>
</div>
<div class="paragraph">
<p>This standard defines how to encode and share the various movements of geographic features by using JavaScript Object Notation (JSON).
It provides an alternative encoding for OGC Moving Features instead of <a href="http://www.opengeospatial.org/standards/movingfeatures">XML Core [OGC 14-083r2</a>] and <a href="http://www.opengeospatial.org/standards/movingfeatures">Simple CSV [OGC 14-084r2</a>].
A moving feature, typically like a vehicle and pedestrian, contains a temporal geometry
whose location continuously changes over time and dynamic non-spatial attributes whose values vary with time.
This Moving Features JSON encoding defines several keywords to implement the conceptual schema of moving features defined in ISO 19141:2008 [ISO 19141:2008], accompanied with <a href="https://www.ietf.org/rfc/rfc7946.txt">IETF GeoJSON Format [IETF RFC 7946</a>].</p>
</div>
<div class="paragraph">
<p><strong class="big">ii.    Keywords</strong></p>
</div>
<div class="paragraph">
<p>TThe following are keywords to be used by search engines and document catalogues.</p>
</div>
<div class="paragraph">
<p>ogcdoc, OGC document, moving features, encoding, JSON, OpenAPI</p>
</div>
<div class="paragraph">
<p><strong class="big">iii.   Preface</strong></p>
</div>
<div class="paragraph">
<p>This document specifies JSON encodings for the implementation of the conceptual schema of moving features defined in <a href="https://www.iso.org/standard/41445.html">ISO 19141:2008</a>,
i.e., features whose locations change over time. OGC Moving Features Encoding standards <a href="http://www.opengeospatial.org/standards/movingfeatures">XML Core [OGC 14-083r2</a>]
and <a href="http://www.opengeospatial.org/standards/movingfeatures">Simple CSV [OGC 14-084r2</a>] have focused on the movement of 0-dimensional geometric primitives (Points),
called trajectories. In addition, the ISO schema excludes deformation and changes of non-spatial attributes of the feature.
However, there are requirements to represent and share the movements of 1-dimensional curve LineStrings, 2-dimensional surface Polygons, and 3-dimensional solid polyhedrons with time-varying non-spatial attributes in various application areas, including: Location Based Services, Intelligent Transportation Systems,
Disaster Risk Management Systems, and Smart City Applications. For example, the traffic congestion on roads and the hotspot of air pollution are typical moving features in the real world.</p>
</div>
<div class="paragraph">
<p>Therefore, OGC Moving Features JSON encodings (MF-JSON) define data members for one-parameter geometries and propeties of the moving feature in time not only trajectory.
MF-JSON is compatible with the <a href="https://www.ietf.org/rfc/rfc7946.txt">IETF GeoJSON Format [IETF RFC 7946</a>] in a JSON document.</p>
</div>
<div class="paragraph">
<p>Attention is drawn to the possibility that some of the elements of this document may be the subject of patent rights. The Open Geospatial Consortium shall not be held responsible for identifying any or all such patent rights.</p>
</div>
<div class="paragraph">
<p>Recipients of this document are requested to submit, with their comments, notification of any relevant patent claims or other intellectual property rights of which they may be aware that might be infringed by any implementation of the standard set forth in this document, and to provide supporting documentation.</p>
</div>
<div class="paragraph">
<p><strong class="big">iv.    Submitting organizations</strong></p>
</div>
<div class="paragraph">
<p>The following organization has submitted this Document to the Open GeoSpatial Consortium, Inc.:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Artificial Intelligence Research Center, National Institute of Advanced Industrial Science and Technology</p>
</li>
<li>
<p>Defense Systems Company, Hitachi, Ltd.</p>
</li>
<li>
<p>Pusan National University</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong class="big">v.     Submitters</strong></p>
</div>
<div class="paragraph">
<p>All questions regarding this submission should be directed to the editor or the submitters:</p>
</div>
<div class="paragraph">
<p></p>
</div>
<table class="tableblock frame-all grid-all" style="width: 99%;">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Organization</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kyoung-Sook KIM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Artificial Intelligence Research Center, National Institute of Advanced Industrial Science and Technology</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Taehoon KIM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Artificial Intelligence Research Center, National Institute of Advanced Industrial Science and Technology</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nobuhiro ISHIMARU</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defense Systems Company, Hitachi, Ltd.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ki-Joune LI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pusan National University</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_scope"><a class="anchor" href="#_scope"></a>1. Scope</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This document defines the structure and content of JSON (JavaScript Object Notation) [<a href="https://www.ietf.org/rfc/rfc7159.txt">IETF RFC7159</a>]
encoding implementation of the conceptual model for moving features described in <a href="http://www.iso.org/iso/iso_catalogue/catalogue_tc/catalogue_detail.htm?csnumber=41445">ISO 19141:2008</a>.
In common, a moving feature is a geographic feature whose location changes over time containing zero or more thematic attributes.
Such a feature may be a car, an airplane, a ship, or something alike.
The geometry of a moving feature to express its motion is defined as a one parameter set of geometries that may be viewed as a set of leaves or
a set of trajectories as shown in the <a href="#mf-concept">Figure 1</a>.
A leaf represents the geometry of the moving feature at a particular value of the parameter (e.g., a point in time) and
a trajectory is a curve that represents the path of a point in the geometry of the moving feature as it moves with respect to the parameter (e.g., time).</p>
</div>
<div id="mf-concept" class="imageblock text-center">
<div class="content">
<img src="./images/mf-concept.png" alt="Conceptual Moving Feature" width="60%">
</div>
<div class="title">Figure 1. Feature Movement: Trajectory, Leaf, Foliation, and Prism [ISO 19141:2008]</div>
</div>
<div class="paragraph">
<p>In the illustration above, a 2D rectangle moves, rotates, and shrink through time.
Each representation of the rectangle at a given time (e.g., \(t_1\), \(t_2\), and \(t_3\)) is a leaf.
The path traced by each corner point of the rectangle (and by each of its other points) is a trajectory.
The set of points contained in all of the leaves, and in all of the trajectories, forms a prism.
The set of leaves also forms a foliation, meaning that there is a complete and separate representation of the geometry of the feature for each specific time.
If viewed in a 4 dimensional spatiotemporal coordinate system, the points on the feature&#8217;s geometry at different times are different points.</p>
</div>
<div class="paragraph">
<p>This specification of Moving Features JSON encodings extends IETF GeoJSON Format <a href="https://www.ietf.org/rfc/rfc7946.txt">[IETF RFC 7946</a>] to describe two types of dynamic attribute of a feature
or feature collection in a JSON document as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>The spatial change over time (temporal geometry)</em>, representing the movement of the rigid or nonrigid body of a feature; and</p>
</li>
<li>
<p><em>The thematic change over time (temporal property)</em>, representing the variation of the value of any descriptive characteristic of a feature.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The JSON encodings provide an alternative to the OGC&#174; Moving Features Encodings XML Core <a href="http://docs.opengeospatial.org/is/14-083r2/14-083r2.html">[OGC 14-083r2</a>] and
Simple Comma Separated Values (CSV) <a href="http://docs.opengeospatial.org/is/14-084r2/14-084r2.html">[OGC 14-084r2</a>] standards by using GeoJSON <a href="https://www.ietf.org/rfc/rfc7946.txt">[IETF RFC 7946</a>].
Moreover, it can encompass the movement of 1-dimensional, 2-dimensional, 3-dimensional geometric primitives, and their aggregation, as well as moving points and their trajectories.
For exmaple, the representation of the following phenomena in a spatiotemporal domain is scope of this specification:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>Discrete phenomena</em>, which exist only on a set of instants, such as road accidents;</p>
</li>
<li>
<p><em>Stepwise phenomena</em>, where the changes of locations are abrupt at an instant, such as administrative boundaries;</p>
</li>
<li>
<p><em>Continuous phenomena</em>, whose locations move continuously for a period in time, such as vehicles, typhoons, or floods.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This specification does not address partial motions of parts of bodies and the dimensonal deformation of the feature (e.g., from 1-d geometry to 0-d geometry).
Also the succession of either features or their association is out of scope in this specification.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conformance"><a class="anchor" href="#_conformance"></a>2. Conformance</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This standard defines 2 requirements classes with URI:</p>
</div>
<div class="paragraph">
<p><a href="http://www.opengis.net/spec/movingfeatures/json/1.0/trajectory/req" class="bare">http://www.opengis.net/spec/movingfeatures/json/1.0/trajectory/req</a>
<a href="http://www.opengis.net/spec/movingfeatures/json/1.0/prism/req" class="bare">http://www.opengis.net/spec/movingfeatures/json/1.0/prism/req</a></p>
</div>
<div class="paragraph">
<p>with two accompanying conformance classes with URI:</p>
</div>
<div class="paragraph">
<p><a href="http://www.opengis.net/spec/movingfeatures/json/1.0/trajectory/conf" class="bare">http://www.opengis.net/spec/movingfeatures/json/1.0/trajectory/conf</a>
<a href="http://www.opengis.net/spec/movingfeatures/json/1.0/prism/conf" class="bare">http://www.opengis.net/spec/movingfeatures/json/1.0/prism/conf</a></p>
</div>
<div class="paragraph">
<p>Conformance with this standard shall be checked using all the relevant tests specified in Annex A (normative) of this document.
The framework, concepts, and methodology for testing, and the criteria to be achieved to claim conformance are specified
in the OGC Compliance Testing Policies and Procedures and the OGC Compliance Testing web site.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_references"><a class="anchor" href="#_references"></a>3. References</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following normative documents contain provisions that, through reference in this text, constitute provisions of this document. For dated references, subsequent amendments to, or revisions of, any of these publications do not apply. For undated references, the latest edition of the normative document referred to applies.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>OGC: <a href="https://portal.opengeospatial.org/files/?artifact_id=39049">OGC 08-015r2</a>, <em>OGC Abstract Specifications - Topic 2 - Spatial referencing by coordinates</em>, version 4.0, 2010.</p>
</li>
<li>
<p>OGC: <a href="https://portal.opengeospatial.org/files/?artifact_id=37761">OGC 10-020</a>, <em>OGC Abstract Specifications - Topic 2.1 - Spatial referencing by coordinates - Extension for Parametric Values</em>, version 1.0, 2014.</p>
</li>
<li>
<p>OGC: <a href="http://docs.opengeospatial.org/is/15-042r3/15-042r3.html">OGC 15-042r3</a> ,<em>TimeseriesML 1.0 – XML Encoding of the Timeseries Profile of Observations and Measurements</em>, version 1.0, 2016.</p>
</li>
<li>
<p>OGC: <a href="http://www.opengeospatial.org/standards/movingfeatures">OGC 14-083r2</a>, <em>OGC Moving Features Encoding Part I: XML Core</em>, 2015.</p>
</li>
<li>
<p>OGC: <a href="http://www.opengeospatial.org/standards/movingfeatures">OGC 14-084r2</a>, <em>OGC Moving Features Encoding Extension: Simple Comma Separated Values (CSV)</em>, 2015.</p>
</li>
<li>
<p>OGC: <a href="http://www.opengeospatial.org/standards/movingfeatures">OGC 16-120r3</a>, <em>OGC Moving Features Access</em>, 2017.</p>
</li>
<li>
<p>ISO: <a href="http://isotc.iso.org/livelink/livelink?func=ll&amp;objId=4230456&amp;objAction=browse&amp;sort=subtype">ISO/IEC Directives</a>, <em>Part 2. Rules for the structure and drafting of International Standards</em></p>
</li>
<li>
<p>ISO: <a href="http://www.iso.org/iso/catalogue_detail?csnumber=40874">ISO 8601:2004</a>, <em>Data elements and interchange formats - Information interchange - Representation of dates and time</em>, 2004.</p>
</li>
<li>
<p>ISO: <a href="http://www.iso.org/iso/catalogue_detail?csnumber=59164">ISO 19101:2014</a>, <em>Geographic information — Reference model — Part 1: Fundamentals</em>, 2014.</p>
</li>
<li>
<p>ISO: <a href="http://www.iso.org/iso/catalogue_detail?csnumber=26012">ISO 19107:2003</a> <em>Geographic Information - Spatial schema</em>, 2003.</p>
</li>
<li>
<p>ISO: <a href="http://www.iso.org/iso/catalogue_detail?csnumber=26012">ISO 19108:2002</a> <em>Geographic Information - Temporal schema</em>, 2002.</p>
</li>
<li>
<p>ISO: <a href="http://www.iso.org/iso/iso_catalogue/catalogue_tc/catalogue_detail.htm?csnumber=41445">ISO 19141:2008</a>, <em>Geographic information - Schema for moving features</em>, 2008.</p>
</li>
<li>
<p>ISO/IEC: <a href="https://www.iso.org/standard/35343.html">ISO 11179-1:2004</a>, <em>Information technology — Metadata registries (MDR) — Part 1: Framework</em>, 2004.</p>
</li>
<li>
<p>IETF: <a href="https://www.ietf.org/rfc/rfc3986.txt">IETF RFC 3986</a>, <em>Uniform Resource Identifier (URI): Generic Syntax</em>, 2005.</p>
</li>
<li>
<p>IETF: <a href="https://www.ietf.org/rfc/rfc7159.txt">IETF RFC 7159</a>, <em>The JavaScript Object Notation (JSON) Data Interchange Format</em>, 2014.</p>
</li>
<li>
<p>IETF: <a href="https://www.ietf.org/rfc/rfc7464.txt">IETF RFC 7464</a>, <em>JavaScript Object Notation (JSON) Text Sequences</em>, 2015.</p>
</li>
<li>
<p>IETF: <a href="https://www.ietf.org/rfc/rfc7946.txt">IETF RFC 7946</a>, <em>The GeoJSON Format</em>, 2016.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Additionally the following informative documents are addressed:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>OGC: OGC 17-069, <em>OGC Web Feature Service 3.0: Part 1 - Core</em>, 2017.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_terms_and_definitions"><a class="anchor" href="#_terms_and_definitions"></a>4. Terms and Definitions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This document uses the terms defined in Sub-clause 5.3 of [OGC 06-121r8], which is based on the ISO/IEC Directives, Part 2, Rules for the structure and drafting of International Standards.
In particular, the word “SHALL” (not “must”) is the verb form used to indicate a requirement to be strictly followed to conform to this standard.</p>
</div>
<div class="paragraph">
<p>For the purposes of this document, the following additional terms and definitions apply.</p>
</div>
<div class="sect2">
<h3 id="_base_representation"><a class="anchor" href="#_base_representation"></a>4.1. <strong>base representation</strong></h3>
<div class="paragraph">
<p>&lt;moving features&gt; representation, using a local origin and local ordinate vectors, of a geometric object at a given reference time.
[ ISO 19141:2008 ]</p>
</div>
<div class="literalblock">
<div class="content">
<pre>NOTE 1: A rigid geometric object many undergo translation or rotation, but remains congruent with its base representation.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>NOTE 2: The local origin and ordinate vectors establish an engineering coordinate reference system (ISO 19111), also called a local frame or a local Euclidean coordinate system.</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_coordinate"><a class="anchor" href="#_coordinate"></a>4.2. <strong>coordinate</strong></h3>
<div class="paragraph">
<p>one of a sequence of n numbers designating the position of a point in n-dimensional space<br>
[ OGC 08-015r2 ]</p>
</div>
<div class="literalblock">
<div class="content">
<pre>NOTE: In a coordinate reference system, the coordinate numbers are qualified by units.</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_coordinate_reference_system"><a class="anchor" href="#_coordinate_reference_system"></a>4.3. <strong>coordinate reference system</strong></h3>
<div class="paragraph">
<p>coordinate system that is related to an object by a datum<br>
[ OGC 08-015r2 ]</p>
</div>
<div class="literalblock">
<div class="content">
<pre>NOTE: For geodetic and vertical datums, the object will be the Earth.</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_curve"><a class="anchor" href="#_curve"></a>4.4. <strong>curve</strong></h3>
<div class="paragraph">
<p>1-dimensional geometric primitive, representing the countinous image of a line<br>
[ ISO 19107:2003 ]</p>
</div>
<div class="literalblock">
<div class="content">
<pre>NOTE: The boudary of a curve is the set of points at either end of the curve. If the curve is a cycle, the two ends are identical, and the curve (if toplogically closed) is considered to not have a boudary.
The first point is called the start point, and the last is the end point. Connectivity of the curve is guarateed by the "continuous image of a line" clause. A topological theorem states that a
continous image of a connected set is connected.</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_domain"><a class="anchor" href="#_domain"></a>4.5. <strong>domain</strong></h3>
<div class="paragraph">
<p>well-defined set<br>
[ ISO 19109:2015 ]</p>
</div>
</div>
<div class="sect2">
<h3 id="_dynamic_attribute"><a class="anchor" href="#_dynamic_attribute"></a>4.6. <strong>dynamic attribute</strong></h3>
<div class="paragraph">
<p>characteristic of a feature in which its value taken from the domain of the feature attribute type varies with time</p>
</div>
</div>
<div class="sect2">
<h3 id="_encoding"><a class="anchor" href="#_encoding"></a>4.7. <strong>encoding</strong></h3>
<div class="paragraph">
<p>Conversion of data into a series of codes<br>
[ ISO 11179-1:2004 ]</p>
</div>
</div>
<div class="sect2">
<h3 id="_engineering_coordinate_reference_system"><a class="anchor" href="#_engineering_coordinate_reference_system"></a>4.8. <strong>engineering coordinate reference system</strong></h3>
<div class="paragraph">
<p>coordinate reference system based on an engineering datum
[ OGC 08-015r2 ]</p>
</div>
<div class="literalblock">
<div class="content">
<pre>EXAMPLES: Local engineering and architectural grids; coordinate reference system local to a ship or an orbiting spacecraft.</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_feature"><a class="anchor" href="#_feature"></a>4.9. <strong>feature</strong></h3>
<div class="paragraph">
<p>abstraction of real world phenomena<br>
[ ISO 19101:2014 ]</p>
</div>
</div>
<div class="sect2">
<h3 id="_feature_attribute"><a class="anchor" href="#_feature_attribute"></a>4.10. <strong>feature attribute</strong></h3>
<div class="paragraph">
<p>characteristic of a feature<br>
[ ISO 19109:2015 ]</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Note: A feature attribute type has a name, a data type and a domain associated with it. A feature attribute instance has an attribute value taken
from the domain of the feature attribute type.</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_feature_collection_collection"><a class="anchor" href="#_feature_collection_collection"></a>4.11. <strong>feature collection; collection</strong></h3>
<div class="paragraph">
<p>a set of features from a dataset<br></p>
</div>
<div class="literalblock">
<div class="content">
<pre>NOTE: In this specification, 'collection' is used as a synonym for 'feature collection'.
This is done to make, for example, URI path expressions shorter and easier to understand for those that are not geo-experts.</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_foliation"><a class="anchor" href="#_foliation"></a>4.12. <strong>foliation</strong></h3>
<div class="paragraph">
<p>one parameter set of geometries such that each point in the prism of the set is in one and only one
trajectory and in one and only one leaf<br>
[ ISO 19141:2008 ]</p>
</div>
</div>
<div class="sect2">
<h3 id="_geometric_object"><a class="anchor" href="#_geometric_object"></a>4.13. <strong>geometric object</strong></h3>
<div class="paragraph">
<p>spatial object representing a geometric set<br>
[ ISO 19107:2003 ]</p>
</div>
<div class="literalblock">
<div class="content">
<pre>NOTE: A geometric object consists of a geometric primitive, a collection of geometric primitives,
or a geometric complex treated as a single entity. A geometric object may be the spatial representation of an object such as a feature or a significant part of a feature.</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_geometric_primitive"><a class="anchor" href="#_geometric_primitive"></a>4.14. <strong>geometric primitive</strong></h3>
<div class="paragraph">
<p>geometric object representing a single, connected, homogeneous element of space<br>
[ ISO 19107:2003 ]</p>
</div>
<div class="literalblock">
<div class="content">
<pre>NOTE: Geometric primitives are non-decomposed objects that present information about geometric configuration. They include points, curves, surfaces, and solids.</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_instant"><a class="anchor" href="#_instant"></a>4.15. <strong>instant</strong></h3>
<div class="paragraph">
<p>zero-dimensional geometric primitive representing position in time<br>
[ ISO 19108:2002 ]</p>
</div>
</div>
<div class="sect2">
<h3 id="_leaf"><a class="anchor" href="#_leaf"></a>4.16. <strong>leaf</strong></h3>
<div class="paragraph">
<p>&lt;one parameter set of geometries&gt; geometry at a particular value of the parameter<br>
[ ISO 19141:2008 ]</p>
</div>
</div>
<div class="sect2">
<h3 id="_life_span"><a class="anchor" href="#_life_span"></a>4.17. <strong>life span</strong></h3>
<div class="paragraph">
<p>period during which something exists<br>
[ ISO 19108:2002 ]</p>
</div>
</div>
<div class="sect2">
<h3 id="_motion"><a class="anchor" href="#_motion"></a>4.18. <strong>motion</strong></h3>
<div class="paragraph">
<p>a change in position measured by distance and time</p>
</div>
</div>
<div class="sect2">
<h3 id="_moving_feature"><a class="anchor" href="#_moving_feature"></a>4.19. <strong>moving feature</strong></h3>
<div class="paragraph">
<p>feature whose position changes over time<br></p>
</div>
<div class="literalblock">
<div class="content">
<pre>NOTE: Its base representation uses a local origin and local coordinate vectors of a geometric object at a given reference time.</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_one_parameter_set_of_geometries"><a class="anchor" href="#_one_parameter_set_of_geometries"></a>4.20. <strong>one parameter set of geometries</strong></h3>
<div class="paragraph">
<p>function \(f\) from an interval \(t \in [a, b\)] such that \(f(t)\) is a geometry and for each point \(P \in f(a)\) there is a one
parameter set of points (called the trajectory of \(P\)) \(P(t)\): \([a, b\)] \(\rightarrow P(t)\) such that \(P(t) \in f(t)\)<br>
[ ISO 19141:2008 ]</p>
</div>
<div class="literalblock">
<div class="content">
<pre>EXAMPLE: A curve C with constructive parameter (variable) t is a one parameter set of points c(t).</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_one_parameter_set_of_values"><a class="anchor" href="#_one_parameter_set_of_values"></a>4.21. <strong>one parameter set of values</strong></h3>
<div class="paragraph">
<p>function \(f\) from an interval \(t \in [a, b\)] such that \(f(t)\) is a measure value \(m\) in a plane with coordinate \((t, m)\)</p>
</div>
</div>
<div class="sect2">
<h3 id="_parametric_coordinate_reference_system"><a class="anchor" href="#_parametric_coordinate_reference_system"></a>4.22. <strong>parametric coordinate reference system</strong></h3>
<div class="paragraph">
<p>coordinate reference system based on a parametric datum<br>
[ OGC 10-020 ]</p>
</div>
</div>
<div class="sect2">
<h3 id="_parametric_datum"><a class="anchor" href="#_parametric_datum"></a>4.23. <strong>parametric datum</strong></h3>
<div class="paragraph">
<p>datum describing the relationship of a parametric coordinate system to an object<br>
[ OGC 10-020 ]</p>
</div>
<div class="literalblock">
<div class="content">
<pre>NOTE The object is normally the Earth.</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_period"><a class="anchor" href="#_period"></a>4.24. <strong>period</strong></h3>
<div class="paragraph">
<p>one-dimensional geometric primitive representing extent in time<br>
[ ISO 19108:2002 ]</p>
</div>
<div class="literalblock">
<div class="content">
<pre>NOTE: A period is bounded by two different temporal positions.</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_position"><a class="anchor" href="#_position"></a>4.25. <strong>position</strong></h3>
<div class="paragraph">
<p>data type that describes a point or geometry potentially occupied by an object or person</p>
</div>
</div>
<div class="sect2">
<h3 id="_prism"><a class="anchor" href="#_prism"></a>4.26. <strong>prism</strong></h3>
<div class="paragraph">
<p>&lt;one parameter set of geometries&gt; set of points in the union of the geometries (or the union of the
trajectories) of a one parameter set of geometries<br>
[ ISO 19141:2008 ]</p>
</div>
</div>
<div class="sect2">
<h3 id="_temporal_coordinate_reference_system"><a class="anchor" href="#_temporal_coordinate_reference_system"></a>4.27. <strong>temporal coordinate reference system</strong></h3>
<div class="paragraph">
<p>coordinate reference system based on a temporal datum</p>
</div>
</div>
<div class="sect2">
<h3 id="_temporal_datum"><a class="anchor" href="#_temporal_datum"></a>4.28. <strong>temporal datum</strong></h3>
<div class="paragraph">
<p>datum describing the relationship of a temporal coordinate system to an object</p>
</div>
</div>
<div class="sect2">
<h3 id="_temporal_geometry"><a class="anchor" href="#_temporal_geometry"></a>4.29. <strong>temporal geometry</strong></h3>
<div class="paragraph">
<p>one parameter set of geometries in which the parameter is time</p>
</div>
</div>
<div class="sect2">
<h3 id="_trajectory"><a class="anchor" href="#_trajectory"></a>4.30. <strong>trajectory</strong></h3>
<div class="paragraph">
<p>path of a moving <strong>point</strong> described by a one parameter set of points<br>
[ ISO 19141:2008 ]</p>
</div>
</div>
<div class="sect2">
<h3 id="_value"><a class="anchor" href="#_value"></a>4.31. <strong>value</strong></h3>
<div class="paragraph">
<p>element of a type domain<br>
[ ISO/IEC 19501:2005 ]</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conventions"><a class="anchor" href="#_conventions"></a>5. Conventions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This sections provides details and examples for any conventions used in the document.
Examples of conventions are symbols, abbreviations, use of XML schema, or special notes regarding how to read the document.</p>
</div>
<div class="sect2">
<h3 id="_identifiers"><a class="anchor" href="#_identifiers"></a>5.1. Identifiers</h3>
<div class="paragraph">
<p>The normative provisions in this specification are denoted by the URI</p>
</div>
<div class="paragraph">
<p><a href="http://www.opengis.net/spec/movingfeatures/json/1.0" class="bare">http://www.opengis.net/spec/movingfeatures/json/1.0</a></p>
</div>
<div class="paragraph">
<p>All requirements and conformance tests that appear in this document are denoted by partial URIs which are relative to this base.</p>
</div>
<div class="paragraph">
<p>All examples in this document are informative only.</p>
</div>
</div>
<div class="sect2">
<h3 id="_json_notation"><a class="anchor" href="#_json_notation"></a>5.2. JSON notation</h3>
<div class="paragraph">
<p>The notation of JSON in this document is based on the specification of [RFC 7159].</p>
</div>
<div class="paragraph">
<p>The ordering of the members of any JSON object must be considered irrelevant. Some examples use a JavaScript single line comment (//) and an ellipsis (&#8230;&#8203;) as placeholder notation for a specific JSON instance.
Whitespace is used in the examples inside this document to help illustrate the data structures, but is not required. Unquoted whitespace is not significant in JSON.</p>
</div>
</div>
<div class="sect2">
<h3 id="_uml_notation"><a class="anchor" href="#_uml_notation"></a>5.3. UML notation</h3>
<div class="paragraph">
<p>Unified Modeling Language (UML) static structure diagrams appearing in this document are used as described in Subclause 5.2 of OGC Web Services Common [OGC 06-121r9].</p>
</div>
</div>
<div class="sect2">
<h3 id="_abbreviated_terms"><a class="anchor" href="#_abbreviated_terms"></a>5.4. Abbreviated terms</h3>
<div class="paragraph">
<p>The following symbols and abbreviated terms are used in this best practice paper:</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 99%;">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">API</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Application Program Interface</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CRS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Coordinate Reference Systems</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CRUD</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Create, Read, Update, Delete</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CSV</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Comma Separated Values</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hypertext Transfer Protocol</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IETF</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Internet Engineering Task Force</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">International Organization for Standardization</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">JSON</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">JavaScript Object Notation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OASIS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Organization for the Advancement of Structured Information Standards</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OGC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Open Geospatial Consortium</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">REST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Representational State Transfer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UML</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unified Modeling Language</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">URI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uniform Resource Identifiers</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">URL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uniform Resource Locators</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">WKT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Well Known Text</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">XML</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Extensible Markup Language</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1D</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">One Dimensional</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2D</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Two Dimensional</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3D</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Three Dimensional</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_overview_of_moving_features_json_encodings_informative"><a class="anchor" href="#_overview_of_moving_features_json_encodings_informative"></a>6. Overview of Moving Features JSON Encodings (Informative)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This document provides an alternative to the OGC&#174; Moving Features Encodings XML Core <a href="http://docs.opengeospatial.org/is/14-083r2/14-083r2.html">[OGC 14-083r2</a>]
and Simple Comma Separated Values (CSV) <a href="http://docs.opengeospatial.org/is/14-084r2/14-084r2.html">[OGC 14-084r2</a>] standards
by using JSON objects that is easily readable by machines and by humans.
The JSON encoding formats for sharing moving feature data specified in this document leverages <strong>GeoJSON</strong> <a href="https://www.ietf.org/rfc/rfc7946.txt">[IETF RFC 7946</a>]
that has already been commonly used in many applications and well supported by tools and software libraries.
This standard defines two JSON encoding forms: <strong>MF-JSON Trajectory</strong> and <strong>MF-JSON Prism</strong>.
If an application focuses on only the linear movement (i.e., the spatiotemporal line string) of moving points
based on World Geodetic System 1984, with longitude and latitude units of decimal degrees,
the application can share the trajectory data by using <strong>only</strong> GeoJSON, called <strong>MF-JSON Trajectory</strong>.
For other cases, <strong>MF-JSON Prism</strong> can be used for expressing more complex movements of moving features.
<strong>MF-JSON Prism</strong> is an extension of GeoJSON formats reserving new members of JSON objects (<code>"temporalGeometry", "temporalProperties", "crs", "trs", and "time"</code>) as "foreign members"
to represent spatiotemporal geometries, variations of measure, coordinate reference systems, and the time interval of moving features in the GeoJSON document.
<a href="#mf-encodings">Figure 2</a> presents the overview of two forms of Moving Features JSON encodings.</p>
</div>
<div id="mf-encodings" class="imageblock text-center">
<div class="content">
<img src="./images/mf-encodings.png" alt="mf-encodings" width="65%">
</div>
<div class="title">Figure 2. JSON encodings for moving feature data</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Coordinate Reference System (CRS)</div>
The IETF GeoJSON format recommends a single coordinate reference system based on World Geodetic System 1984, with longitude and latitude units of decimal degrees.
However, a moving feature needs a temporal coordinate system and may require an engineering coordinate reference system or parametric coordinate reference system
to represent the movement of the geometry of the feature in the case of an application request. Therefore, MF-JSON includes "crs" field as described in GeoJSON(2008)<a id="GEOJSON"></a>.
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
The existing GeoJSON implementation can ignore the new members of "temporalGeometry", "temporalProperties", "trs", and "time" in an MF-JSON document
if there is no processing module for foreign members. Accordingly, MF-JSON is compatible with the GeoJSON encoding.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><a href="#mf-hurricane">Figure 3</a> illustrates an example of the movement of a hurricane with a time-varying 2-dimensional geometry as a moving feature. Suppose the pressure centroid of the hurricane reported four locations
at \(t_1, t_2, t_3\), and \(t_4\). Its trajectory may be drawn depending on the interpolation method between two consecutive locations, such as \(A\) (linear) or \(B\) (Quadratic).
<a href="https://www.iso.org/standard/41445.html">ISO 19141:2008</a> defines a conceptual schema of a moving feature based on geometry types as shown in <a href="#mf-iso">Figure 4</a>.
The ISO conceptual schema represents the motion consisting of translation and/or rotation of a moving feature, but not including deformation of the geometry, over time.</p>
</div>
<div id="mf-hurricane" class="imageblock text-center">
<div class="content">
<img src="./images/mf-hurricane.png" alt="mf-hurricane" width="70%">
</div>
<div class="title">Figure 3. Example of a moving feature: a hurricane and its properties</div>
</div>
<div id="mf-iso" class="imageblock text-center">
<div class="content">
<img src="./images/mf-iso.png" alt="Components" width="95%">
</div>
<div class="title">Figure 4. Components of the moving feature packages in ISO 19141:2008</div>
</div>
<div class="paragraph">
<p>The data model defined in <a href="https://www.iso.org/standard/41445.html">ISO 19141:2008</a> is based on two geometric types: <strong>MF_OneParamGeometry</strong> and <strong>MF_Trajectory</strong>.
<strong>MF_OneParamGeometry</strong> is the type to describe a function \(f\) from an interval \(t \in [a, b\)] such that \(f(t)\) is a geometry.
A leaf of a one parameter set of geometries is the geometry \(f(t)\) at a particular value \(t\) of the parameter.
<strong>MF_Trajectory</strong> describes a one-parameter geometry whose cross section is a point as a leaf.
<strong>MF_OneParamGeometry</strong> and <strong>MF_Trajectory</strong> is specialized as <strong>MF_TemporalGeometry</strong> and <strong>MF_TemporalTrajectory</strong> respectively, when the parameter is time representing a multiple of a single unit of measure
such as year, day, or second for those types. <strong>MF_TemporalTrajectory</strong> is also a sub-type of <strong>MF_TemporalGeometry</strong>.
The OGC Moving Features XML and CSV standard provide the encoding formats to represent linear trajectories of moving points, typically representing vehicles or pedestrians.
<a href="#mf-ogc">Figure 5</a> shows an example for linear trajectories of two moving points A and B.
Each trajectory has the start time and the end time. Both points start to move at t=10sec and end at t=19sec. While the movement of B does not change, the movement of A is changed at t=15sec.
<a href="#mf-xml">Example 1</a> and <a href="#mf-csv">Example 2</a> shows how to encode the trajectories shown in <a href="#mf-ogc">Figure 5</a> by using two OGC Moving Features encoding standards.
However, XML and CSV encoding standards have limitation on the representation of prism geometries such as <strong>MF_PrismGeometry</strong> and <strong>MF_RigidTemporalGeometry</strong>.
They describe the implementation of only a type of <strong>MF_TemporalTrajectory</strong> with linear interpolation of movement.
This MF-JSON standard specifies how to encode the same information by using GeoJSON; Additionally, it defines new JSON members to support applications that need more power expression of
the movement of a feature whose geometry may be 0D, 1D, 2D, 3D geometric primitives, or their aggregations and continuously changes over time with various temporal interpolation methods.</p>
</div>
<div id="mf-ogc" class="imageblock text-center">
<div class="content">
<img src="./images/mf-ogc.png" alt="Components" width="70%">
</div>
<div class="title">Figure 5. Example for two linear trajectories</div>
</div>
<div id="mf-xml" class="listingblock">
<div class="title">Example 1: OGC Moving Features XML Core encoding of linear trajectories.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="preprocessor">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
  <span class="tag">&lt;mf:MovingFeatures&gt;</span>
    <span class="tag">&lt;mf:sTBoundedBy</span> <span class="attribute-name">offset</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">sec</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
         <span class="tag">&lt;gml:EnvelopeWithTimePeriod</span> <span class="attribute-name">srsName</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">urn:ogc:def:crs:EPSG:6.6:4326</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
           <span class="tag">&lt;gml:lowerCorner&gt;</span>50.23 9.23<span class="tag">&lt;/gml:lowerorner&gt;</span>
           <span class="tag">&lt;gml:upperCorner&gt;</span>50.31 9.27<span class="tag">&lt;/gml:upperCorner&gt;</span>
           <span class="tag">&lt;gml:beginPosition&gt;</span>2012-01-17T12:33:41Z<span class="tag">&lt;/gml:beginPosition&gt;</span>
           <span class="tag">&lt;gml:endPosition&gt;</span>2012-01-17T12:37:00Z <span class="tag">&lt;/gml:endPosition&gt;</span>
        <span class="tag">&lt;/gml:EnvelopeWithTimePeriod&gt;</span>
    <span class="tag">&lt;/mf:sTBoundedBy&gt;</span>
    ......
    <span class="tag">&lt;mf:foliation&gt;</span>
        <span class="tag">&lt;mf:LinearTrajectory</span> <span class="attribute-name">gml:id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">LT0001</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">mfIdRef</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">A</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">start</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">10</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">end</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">15</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
            <span class="tag">&lt;gml:posList&gt;</span>11.0 2.0 12.0 3.0<span class="tag">&lt;/gml:posList&gt;</span>
            <span class="tag">&lt;mf:Attr&gt;</span>walking,1<span class="tag">&lt;/mf:Attr&gt;</span>
        <span class="tag">&lt;/mf:LinearTrajectory&gt;</span>
        <span class="tag">&lt;mf:LinearTrajectory</span> <span class="attribute-name">gml:id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">LT0002</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">mfIdRef</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">B</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">start</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">10</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">end</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">19</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
            <span class="tag">&lt;gml:posList&gt;</span>10.0 2.0 11.0 3.0<span class="tag">&lt;/gml:posList&gt;</span>
            <span class="tag">&lt;mf:Attr&gt;</span>walking,2<span class="tag">&lt;/mf:Attr&gt;</span>
        <span class="tag">&lt;/mf:LinearTrajectory&gt;</span>
        <span class="tag">&lt;mf:LinearTrajectory</span> <span class="attribute-name">gml:id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">LT0003</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">mfIdRef</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">A</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">start</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">15</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">end</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">19</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
           <span class="tag">&lt;gml:posList&gt;</span>12.0 3.0 10.0 3.0<span class="tag">&lt;/gml:posList&gt;</span>
           <span class="tag">&lt;mf:Attr&gt;</span>walking,2<span class="tag">&lt;/mf:Attr&gt;</span>
        <span class="tag">&lt;/mf:LinearTrajectory&gt;</span>
    <span class="tag">&lt;/mf:foliation&gt;</span>
 <span class="tag">&lt;/mf:MovingFeatures&gt;</span></code></pre>
</div>
</div>
<div id="mf-csv" class="listingblock">
<div class="title">Example 2: OGC Moving Features CSV encoding of linear trajectories.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="csv">@stboundedby,urn:x-ogc:def:crs:EPSG:6.6:4326,2D,50.23 9.23,50.31 9.27,2012-01-17T12:33:41Z,2012-01-17T12:37:00Z,sec
@columns,mfidref,trajectory,state,xsd:token,”type code”,xsd:integer
A,10,15,11.0 2.0 12.0 3.0,walking,1
B,10,19,10.0 2.0 11.0 3.0,walking,2
A,15,19,12.0 3.0 10.0 3.0,walking,2</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_moving_features_json_encodings_mf_json_specification"><a class="anchor" href="#_moving_features_json_encodings_mf_json_specification"></a>7. Moving Features JSON Encodings (MF-JSON) Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This clause specifies the structure and content of JSON (JavaScript Object Notation) [<a href="https://www.ietf.org/rfc/rfc7159.txt">IETF RFC7159</a>]
encoding implementation for the conceptual model of moving features described in <a href="http://www.iso.org/iso/iso_catalogue/catalogue_tc/catalogue_detail.htm?csnumber=41445">ISO 19141:2008</a>.
Moving Features JSON Encodings (MF-JSON) has two encoding formats: <strong>MF-JSON Trajectory</strong> for instances of the MF_TemporalGeometry type with linear interpoation and
<strong>MF-JSON Prism</strong> that contains new members to describe instances of the MF_PrismGeometry (or MF_RigidTemporalGeometry) type in the ISO coneptual model.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
An object in this specification is a JSON object.
The JSON object is an unordered collection of zero or more name/value pairs, where a name is a string and a value can be a JSON <code>null</code>, <code>true</code>, <code>false</code>, string, number, array, or object.
An array consists of elements where each element is a value as a JSON <code>null</code>, <code>true</code>, <code>false</code>, string, number, array, or object.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In an object, there are three types of members: MANDATORY, OPTIONAL, and DEFAULT.</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
MANDATORY
</td>
<td class="hdlist2">
<p>If an object member is <strong>mandatory</strong>, its value SHOULD NOT be a JSON <code>null</code> value. The mandatory member of an object and its value SHOULD appear in a MF-JSON document.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
OPTIONAL
</td>
<td class="hdlist2">
<p>If an object member is <strong>optional</strong>, its value allows a JSON <code>null</code> value. The optional member and its <code>null</code> value can be excluded from a MF-JSON document.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
DEFAULT
</td>
<td class="hdlist2">
<p>If an object member has a <strong>default</strong> value defined in this specification, the pair of member and value can be omitted in a MF-JSON document.</p>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_mf_json_trajectory_encoding"><a class="anchor" href="#_mf_json_trajectory_encoding"></a>7.1. MF-JSON Trajectory Encoding</h3>
<div class="paragraph">
<p>MF-JSON Trajectory specifies how to map/interpret linear trajectories of moving points into/from the <strong>GeoJSON</strong> <a href="https://www.ietf.org/rfc/rfc7946.txt">[IETF RFC 7946</a>] object.
It is based on the data model of <em>mf:MovingFeatures</em> defined in <a href="http://docs.opengeospatial.org/is/14-083r2/14-083r2.html">OGC Moving Features XML Core</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The <em>mf:MovingFeatures</em> Class is implemented by <em>mf:Foliation</em> including movements of moving points, which are instances of <em>mf:LinearTrajectory</em>.
In XML Core, the <em>mf:LinearTrajectory</em> Class is expressed by a single spatiotemporal segment with linear interpolation, having two elements of <em>gml:PosList</em> and <em>mf:Attr</em>,
as well as three attributes of <em>mfIdRef</em>, <em>start</em>, and <em>end</em>. The <em>mfIdRef</em> attribute is the text specifying the moving feature (i.e. person ID, vehicle ID, etc.).
The <em>start</em> and <em>end</em> attribute of <em>mf:LinearTrajectory</em> describes the temporal offset from the <em>gml:beginPosition</em> element in the <em>mf:sTBoundedBy</em> Class.
Two or more coordinate tuples are specified in <em>gml:posList</em> and linearly interpolated from time <em>start</em> to <em>end</em>.
The <em>mf:Attr</em> element contains the attribute information as a text. The values of the attributes are constant while the feature moves along the <em>mf:LinearTrajectory</em>.
The detailed description refers to <a href="http://docs.opengeospatial.org/is/14-083r2/14-083r2.html">OGC Moving Features XML Core</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Comparing to the segment-based encodings of <a href="http://docs.opengeospatial.org/is/14-083r2/14-083r2.html">OGC XML Core</a> and <a href="http://docs.opengeospatial.org/is/14-084r2/14-084r2.html">CSV</a>,
MF-JSON Trajectory encodes a spatiotemporal linestring or a collection of linestrings to reduce the size of a GeoJSON document.
The spatiotemporal linestring is a one-dimensional object representing a sequence of spatiotemporal points and the trajectory segments connecting them.
The GeoJSON encoding rules of MF-JSON Trajectory are set as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>An MF-JSON Trajectory document presents an instance of the <em>mf:LinearTrajectory</em> Class or a set of those instances as a GeoJSON FeatureCollection object.
An <em>mf:LinearTrajectory</em> instance is mapped into a GeoJSON Feature object with a linestring geometry;
i.e., the value of member <code>"type"</code> in the Geometry object is "LineString".</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
(GeoJSON) A Feature object represents a spatially bounded thing. A Feature object has, at least 3 members:
a "type" member with the value "Feature", a "geometry" member, and a "properties" member.
Geometry only has 2 members: "type" and "coordinates". The "type" value of geometry can
be one of "Point", "MultiPoint", "LineString", "MultiLineString", "Polygon", "MultiPolygon", and "GeometryCollection".
The GeoJSON extensibility is limited by the interpretation of the sentence in the IETF RFC 7946
"Implementations MUST NOT extend the fixed set of GeoJSON types: FeatureCollection, Feature, Point, LineString, MultiPoint, Polygon,
MultiLineString, MultiPolygon, and GeometryCollection."
</td>
</tr>
</table>
</div>
</li>
<li>
<p>The identifier of a moving feature (i.e., <em>mfIdRef</em>) is mapped into the member named <code>"id"</code> of the GeoJSON Feature object.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
(GeoJSON) If a Feature has a commonly used identifier, that identifier is included as a member of the Feature object with the name "id",
and the value of this member is either a JSON string or number.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>The value of the <code>"coordinates"</code> member of a linestring geometry object has two or more positions that draws a sequence of trajectory segments.
Each position is each projection in spatial domain. All trajectory segments that have the same identifier are merged into a linestring geometry object
as long as any consecutive segments meet each other at a time instant.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
(GeoJSON) A position is an array of numbers. There MUST be two or more elements. The first two elements are longitude and latitude, or easting and northing,
precisely in that order and using decimal numbers. Altitude or elevation MAY be included as an optional third element.
The coordinate reference system for all GeoJSON coordinates is a geographic coordinate reference system, using the World Geodetic System 1984 (WGS 84)
<a href="#WGS84">[1]</a> datum, with longitude and latitude units of decimal degrees.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>The <code>"properties"</code> member of a GeoJSON Feature object has a member with the name <code>"datetimes"</code>. The value of the <code>"datetimes"</code> member is an array of a sequence of
monotonic increasing time instants, having the same number of positions of the "coordinates" member. The value of a time instant is a JSON string
encoded as a JSON string of <a href="https://www.iso.org/iso-8601-date-and-time-format.html">ISO 8601</a> field-based formats using Z (e.g., 2016-09-11T06:10:32Z)
or incremental time as the number of milliseconds since midnight (00:00 a.m.) on January 1, 1970 in UTC (e.g., 1465621816590).</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
(GeoJSON) A Feature object has a member with the name "properties".  The value of the properties member is an object (any JSON object or a JSON null value).
</td>
</tr>
</table>
</div>
</li>
<li>
<p>If a Feature has any variable attribute by time and its value (i.e., <em>mf:AttrDef</em> and <em>mf:Attr</em>),
the attribute can be a member inside the <code>"properties"</code> member with the value of a JSON arrray,
having one less than the number of positions of the <code>"coordinates"</code> member.</p>
</li>
<li>
<p>A set of <em>mf:LinearTrajectory</em> instances is packed in the elements of the <code>"features"</code> member of a FeatureCollection object.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
(GeoJSON) A FeatureCollection object has a member with the name "features".  The value of "features" is a JSON array of Feature objects.
It is possible for this array to be empty.
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><a href="#mf-geojson">Example 3</a> illustrates an example of the MF-JSON Trajectory encoding corresponding to two moving points, as shown in <a href="#mf-ogc">Figure 5</a> to be replaceable with <a href="#mf-xml">Example 1</a> and <a href="#mf-csv">Example 2</a>.</p>
</div>
<div id="mf-geojson" class="listingblock">
<div class="title">Example 3: Example of the MF-JSON Trajectory encoding</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">{
   <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">FeatureCollection</span><span class="delimiter">&quot;</span></span>,
   <span class="key"><span class="delimiter">&quot;</span><span class="content">features</span><span class="delimiter">&quot;</span></span>: [
       {
           <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Feature</span><span class="delimiter">&quot;</span></span>,
           <span class="key"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">A</span><span class="delimiter">&quot;</span></span>,
           <span class="key"><span class="delimiter">&quot;</span><span class="content">geometry</span><span class="delimiter">&quot;</span></span>: {
               <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">LineString</span><span class="delimiter">&quot;</span></span>,
               <span class="key"><span class="delimiter">&quot;</span><span class="content">coordinates</span><span class="delimiter">&quot;</span></span>: [[<span class="float">11.0</span>,<span class="float">2.0</span>], [<span class="float">12.0</span>,<span class="float">3.0</span>], [<span class="float">10.0</span>,<span class="float">3.0</span>]]
           },
           <span class="key"><span class="delimiter">&quot;</span><span class="content">properties</span><span class="delimiter">&quot;</span></span>: {
               <span class="key"><span class="delimiter">&quot;</span><span class="content">datetimes</span><span class="delimiter">&quot;</span></span>: [<span class="string"><span class="delimiter">&quot;</span><span class="content">2012-01-17T12:33:51Z</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">2012-01-17T12:33:56Z</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">2012-01-17T12:34:00Z</span><span class="delimiter">&quot;</span></span>],
               <span class="key"><span class="delimiter">&quot;</span><span class="content">state</span><span class="delimiter">&quot;</span></span>: [<span class="string"><span class="delimiter">&quot;</span><span class="content">walking</span><span class="delimiter">&quot;</span></span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">walking</span><span class="delimiter">&quot;</span></span>],
               <span class="key"><span class="delimiter">&quot;</span><span class="content">typecode</span><span class="delimiter">&quot;</span></span>: [<span class="integer">1</span>, <span class="integer">2</span>]
           }
       },
       {
           <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Feature</span><span class="delimiter">&quot;</span></span>,
           <span class="key"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">B</span><span class="delimiter">&quot;</span></span>,
           <span class="key"><span class="delimiter">&quot;</span><span class="content">geometry</span><span class="delimiter">&quot;</span></span>: {
               <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">LineString</span><span class="delimiter">&quot;</span></span>,
               <span class="key"><span class="delimiter">&quot;</span><span class="content">coordinates</span><span class="delimiter">&quot;</span></span>: [[<span class="float">10.0</span>,<span class="float">2.0</span>], [<span class="float">11.0</span>,<span class="float">3.0</span>]]
           },
           <span class="key"><span class="delimiter">&quot;</span><span class="content">properties</span><span class="delimiter">&quot;</span></span>: {
               <span class="key"><span class="delimiter">&quot;</span><span class="content">datetimes</span><span class="delimiter">&quot;</span></span>: [<span class="string"><span class="delimiter">&quot;</span><span class="content">2012-01-17T12:33:51Z</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">2012-01-17T12:34:00Z</span><span class="delimiter">&quot;</span></span>],
               <span class="key"><span class="delimiter">&quot;</span><span class="content">state</span><span class="delimiter">&quot;</span></span>: [<span class="string"><span class="delimiter">&quot;</span><span class="content">walking</span><span class="delimiter">&quot;</span></span>],
               <span class="key"><span class="delimiter">&quot;</span><span class="content">typecode</span><span class="delimiter">&quot;</span></span>: [<span class="integer">2</span>]
           }
       }
   ]
}</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #CACCCE;"><p class="tableblock"><strong>Requirements Class: MF-JSON Trajectory</strong> </p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/movingfeatures/json/1.0/trajectory/req" class="bare">http://www.opengis.net/spec/movingfeatures/json/1.0/trajectory/req</a> </p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Target type</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">JSON object</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">ISO 19141</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">IETF GeoJSON</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #CACCCE;"><p class="tableblock"><strong>Requirement 1.1</strong> </p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/movingfeatures/json/1.0/trajectory/GeoJSON" class="bare">http://www.opengis.net/spec/movingfeatures/json/1.0/trajectory/GeoJSON</a><br>
A MF-JSON Trajectory file SHALL contain a LinearTrajectory object or a set of LinearTrajectory objects
having a compliance with the IETF GeoJSON specification.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #CACCCE;"><p class="tableblock"><strong>Requirement 1.2</strong> </p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/movingfeatures/json/1.0/trajectory/feature" class="bare">http://www.opengis.net/spec/movingfeatures/json/1.0/trajectory/feature</a><br>
A LinearTrajectory object SHALL be a GeoJSON Feature object that has two MANDATORY members of <code>"geometry"</code> and <code>"properties"</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #CACCCE;"><p class="tableblock"><strong>Requirement 1.3</strong> </p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/movingfeatures/json/1.0/trajectory/geometry" class="bare">http://www.opengis.net/spec/movingfeatures/json/1.0/trajectory/geometry</a><br>
The value of the <code>"geometry"</code> member SHALL be a LineString Geometry object, having <code>"type"</code> = <code>"LineString"</code>.
The number of elements in the array of the <code>"coordinates"</code> value in the Geometry object SHALL more than two positions.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #CACCCE;"><p class="tableblock"><strong>Requirement 1.4</strong> </p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/movingfeatures/json/1.0/trajectory/propeties" class="bare">http://www.opengis.net/spec/movingfeatures/json/1.0/trajectory/propeties</a><br>
The value of member <code>"properties"</code> SHALL be a GeoJSON object that has at least a member with the named <code>"datetimes"</code>.
The value of the "datetimes" member is a JSON array.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #CACCCE;"><p class="tableblock"><strong>Requirement 1.5</strong> </p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/movingfeatures/json/1.0/trajectory/datetimes" class="bare">http://www.opengis.net/spec/movingfeatures/json/1.0/trajectory/datetimes</a><br>
Each element in the array of the <code>"datetimes"</code> value SHALL be a Instant object
A Instant object is only a JSON string encoded by ISO 8601 field-based formats using <code>Z</code> or
the number of milliseconds since midnight (00:00 a.m.) on January 1, 1970 in UTC.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #CACCCE;"><p class="tableblock"><strong>Requirement 1.6</strong> </p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/movingfeatures/json/1.0/trajectory/monotonic" class="bare">http://www.opengis.net/spec/movingfeatures/json/1.0/trajectory/monotonic</a><br>
The array of the <code>"datetimes"</code> value SHALL be a monotonic increasing sequence.
There is no Instant object that has the same value as any other element.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #CACCCE;"><p class="tableblock"><strong>Requirement 1.7</strong> </p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/movingfeatures/json/1.0/trajectory/constraints" class="bare">http://www.opengis.net/spec/movingfeatures/json/1.0/trajectory/constraints</a><br>
The number of elements in both arrays of the <code>"coordinates"</code> value and the <code>"datetimes"</code> value SHALL be equal.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_mf_json_prism_encoding"><a class="anchor" href="#_mf_json_prism_encoding"></a>7.2. MF-JSON Prism Encoding</h3>
<div class="paragraph">
<p>This clause specifies the format of MF-JSON Prism to implement the package of Prism Geometry defined in <a href="http://www.iso.org/iso/iso_catalogue/catalogue_tc/catalogue_detail.htm?csnumber=41445">ISO 19141:2008</a> (<a href="#mf-isoprism">Figure 6</a>).
The package contains five types used to describe the prism of a moving geometric object: <strong>MF_PrismGeometry</strong>, <strong>MF_RigidTemporalGeometry</strong>, <strong>MF_LocalGeometry</strong>,
<strong>MF_TemporalOrientation</strong>, and <strong>MF_RotationMatrix</strong>. The type <strong>MF_PrismGeometry</strong> represents the movement of an object through geographic space.
<strong>MF_RigidTemporalGeometry</strong> specializes <strong>MF_PrismGeometry</strong>, which in turn specializes <strong>MF_TemporalGeometry</strong> for the case of an object
that moves without deformation, where the object’s basic shape is immutable and may be translated or rotated over time.
The type <strong>MF_LocalGeometry</strong> is a geometric object to define the local geometry of the moving object in a design coordinate reference system (usually 3D).
The design coordinate reference system is accessible through the Coordinate Reference System association inherited from GM_Object.
The remaining types support description of the possible rotation of such an object.</p>
</div>
<div id="mf-isoprism" class="imageblock text-center">
<div class="content">
<img src="./images/mf-isoprism.png" alt="mf-isoprism" width="80%">
</div>
<div class="title">Figure 6. Types of the package of Prism Geomety in ISO 19141:2008</div>
</div>
<div class="paragraph">
<p>For the sake of encoding simplicity for the movement of <strong>MF_PrismGeometry</strong> and <strong>MF_RigidTemporalGeometry</strong>,
MF-JSON Prism reserves the following members as foreign members in a GeoJSON Feature object that represents a moving feature:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code>"temporalGeometry"</code> member describes a movement of a moving feature.</p>
</li>
<li>
<p>The <code>"temporalProperties"</code> member describes a set of time-dependent attributes and their dynamic values of a moving feature.</p>
</li>
<li>
<p>The <code>"time"</code> member describes a period during which a feature exists.</p>
</li>
<li>
<p>The <code>"csr"</code> member describes a Spatial Coordinate Reference System object which relates the positions of features in the real world.</p>
</li>
<li>
<p>The <code>"trs"</code> member describes a Temporal Coordinate Reference System object referred by time-expression to indicate the time of positions or attributes' values.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Coordinate Reference System (CRS)</div>
The IETF GeoJSON format recommends a single coordinate reference system based on World Geodetic System 1984, with longitude and latitude units of decimal degrees.
However, a moving feature needs a temporal coordinate system and may require an engineering coordinate reference system or parametric coordinate reference system
to represent the movement of the geometry of the feature in the case of an application request.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The MF-JSON Prism encoding can represent the movement of the rigid or nonrigid geometry of a feature which may be 0D, 1D, 2D, 3D geometric primitives, or their aggregations.
<a href="#mf-car">Figure 7</a> shows the movement of a car which has a rigid 3D solid, and <a href="#mf-prism">Example 4</a>is an example of moving-feature instances encoded by the MF-JSON Prism format.</p>
</div>
<div id="mf-car" class="imageblock text-center">
<div class="content">
<img src="./images/mf-car.png" alt="mf-car" width="60%">
</div>
<div class="title">Figure 7. Example of the movement of a car which has a rigid 3D solid</div>
</div>
<div id="mf-prism" class="listingblock">
<div class="title">Example 4: Example of the MF-JSON Prism encoding</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">{
    <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Feature</span><span class="delimiter">&quot;</span></span>, <span class="comment">//(MANDATORY)</span>
    <span class="key"><span class="delimiter">&quot;</span><span class="content">properties</span><span class="delimiter">&quot;</span></span>: { <span class="comment">//(OPTIONAL)</span>
      <span class="key"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">car1</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">state</span><span class="delimiter">&quot;</span></span>:<span class="string"><span class="delimiter">&quot;</span><span class="content">test1</span><span class="delimiter">&quot;</span></span>
    },
    <span class="key"><span class="delimiter">&quot;</span><span class="content">crs</span><span class="delimiter">&quot;</span></span> : { <span class="comment">//(DEFAULT) If there is no &quot;crs&quot; member, the default crs is &quot;WGC84&quot; with longitude and latitude units of decimal degrees</span>
      <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">properties</span><span class="delimiter">&quot;</span></span>: {<span class="key"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">urn:ogc:def:crs:OGC:1.3:CRS84</span><span class="delimiter">&quot;</span></span>}
    },
    <span class="key"><span class="delimiter">&quot;</span><span class="content">trs</span><span class="delimiter">&quot;</span></span> : { <span class="comment">//(DEFAULT) If there is no &quot;trs&quot;, the default trs is &quot;Gregorian&quot;.</span>
      <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">link</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">properties</span><span class="delimiter">&quot;</span></span>: {
          <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">ogcdef</span><span class="delimiter">&quot;</span></span>,
          <span class="key"><span class="delimiter">&quot;</span><span class="content">href</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.opengis.net/def/uom/ISO-8601/0/Gregorian</span><span class="delimiter">&quot;</span></span>,
      }
    },
    <span class="key"><span class="delimiter">&quot;</span><span class="content">bbox</span><span class="delimiter">&quot;</span></span>: [<span class="float">139.757083</span>, <span class="float">35.627483</span>, <span class="float">0.0</span>, <span class="float">139.757716</span>, <span class="float">35.627701</span>, <span class="float">4.5</span>], <span class="comment">//(OPTIONAL) 2*n array with the lowest values for all axes followed by the highest values</span>
    <span class="key"><span class="delimiter">&quot;</span><span class="content">time</span><span class="delimiter">&quot;</span></span>: [<span class="string"><span class="delimiter">&quot;</span><span class="content">2011-07-14T22:01:01Z</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">2011-07-15T01:11:22Z</span><span class="delimiter">&quot;</span></span>], <span class="comment">//(OPTIONAL) min and max time instant to cover all temporal positions in `&quot;temporalGeometry&quot;` and `&quot;temporalProperties&quot;`</span>
    <span class="key"><span class="delimiter">&quot;</span><span class="content">temporalGeometry</span><span class="delimiter">&quot;</span></span>: { <span class="comment">//(MANDATORY) one parameter set of geometries of a moving feature</span>
        <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">MovingPoint</span><span class="delimiter">&quot;</span></span>,
        <span class="key"><span class="delimiter">&quot;</span><span class="content">datetimes</span><span class="delimiter">&quot;</span></span>: [<span class="string"><span class="delimiter">&quot;</span><span class="content">2011-07-14T22:01:01Z</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">2011-07-14T22:01:02Z</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">2011-07-14T22:01:03Z</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">2011-07-14T22:01:04Z</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">2011-07-14T22:01:05Z</span><span class="delimiter">&quot;</span></span>],
        <span class="key"><span class="delimiter">&quot;</span><span class="content">coordinates</span><span class="delimiter">&quot;</span></span>: [ [<span class="float">139.757083</span>, <span class="float">35.627701</span>, <span class="float">0.5</span>], [<span class="float">139.757399</span>, <span class="float">35.627701</span>, <span class="float">2.0</span>], [<span class="float">139.757555</span>, <span class="float">35.627688</span>, <span class="float">4.0</span>], [<span class="float">139.757651</span>, <span class="float">35.627596</span>, <span class="float">4.0</span>], [<span class="float">139.757716</span>, <span class="float">35.627483</span>, <span class="float">4.0</span>] ],
        <span class="key"><span class="delimiter">&quot;</span><span class="content">interpolation</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Linear</span><span class="delimiter">&quot;</span></span>,
        <span class="key"><span class="delimiter">&quot;</span><span class="content">orientations</span><span class="delimiter">&quot;</span></span>: [
          [<span class="float">0.000012</span> , <span class="float">0.0</span> , <span class="float">0.0</span> , <span class="float">0.0</span> ,
            <span class="float">0.0</span> , <span class="float">0.0000089</span> , <span class="float">0.0</span> , <span class="float">0.0</span> ,
            <span class="float">0.0</span> , <span class="float">0.0</span> , <span class="float">1.0</span> , <span class="float">0.0</span> ,
            <span class="float">0.0</span> , <span class="float">0.0</span> , <span class="float">0.0</span> , <span class="float">1.0</span>],  <span class="comment">// same as original</span>
          [<span class="float">0.00000119543363771009</span> , <span class="float">0.0</span> , <span class="float">0.0871557427476583</span> , <span class="float">0.0</span> ,
            <span class="float">0.0</span> , <span class="float">0.0000089</span> , <span class="float">0.0</span> , <span class="float">0.0</span> ,
            -<span class="float">0.0000010458689129719</span> , <span class="float">0.0</span> , <span class="float">0.996194698091746</span> , <span class="float">0.0</span> ,
            <span class="float">0.0</span> , <span class="float">0.0</span> , <span class="float">0.0</span> , <span class="float">1.0</span>],  <span class="comment">// Pitch rotation angle: 355 degree</span>
          [<span class="float">0.0000103923048454133</span> , -<span class="float">0.00000445</span> , <span class="float">0.0</span> , <span class="float">0.0</span> ,
            <span class="float">0.000006</span> , <span class="float">0.0000077076260936815</span> , <span class="float">0.0</span> , <span class="float">0.0</span> ,
            <span class="float">0.0</span> , <span class="float">0.0</span> , <span class="float">1.0</span> , <span class="float">0.0</span> ,
            <span class="float">0.0</span> , <span class="float">0.0</span> , <span class="float">0.0</span> , <span class="float">1.0</span>], <span class="comment">// Yaw rotation angle: 330 degree</span>
          [<span class="float">0.000006</span> , -<span class="float">0.0000077076260936815</span> , <span class="float">0.0</span> , <span class="float">0.0</span> ,
            <span class="float">0.0000103923048454133</span> , <span class="float">0.00000445</span> , <span class="float">0.0</span> , <span class="float">0.0</span> ,
            <span class="float">0.0</span> , <span class="float">0.0</span> , <span class="float">1.0</span> , <span class="float">0.0</span> ,
            <span class="float">0.0</span> , <span class="float">0.0</span> , <span class="float">0.0</span> , <span class="float">1.0</span>], <span class="comment">// Yaw rotation angle: 300 degree</span>
          [<span class="float">0.0</span> , -<span class="float">0.0000089</span> , <span class="float">0.0</span> , <span class="float">0.0</span> ,
            <span class="float">0.000012</span> , <span class="float">0.0</span> , <span class="float">0.0</span> , <span class="float">0.0</span> ,
            <span class="float">0.0</span> , <span class="float">0.0</span> , <span class="float">1.0</span> , <span class="float">0.0</span> ,
            <span class="float">0.0</span> , <span class="float">0.0</span> , <span class="float">0.0</span> , <span class="float">1.0</span>]  <span class="comment">// Yaw rotation angle: 270 degree</span>
        ],
        <span class="key"><span class="delimiter">&quot;</span><span class="content">base</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.opengis.net/spec/movingfeatures/json/1.0/prism/example/carmodel.zip</span><span class="delimiter">&quot;</span></span>
    },
    <span class="key"><span class="delimiter">&quot;</span><span class="content">temporalProperties</span><span class="delimiter">&quot;</span></span>: [  <span class="comment">//(OPTIONAL) dynamic non-spatial attributes, extended from 'properties'</span>
      { <span class="comment">// a group of temporal properties that are measured at the same times</span>
        <span class="key"><span class="delimiter">&quot;</span><span class="content">datetimes</span><span class="delimiter">&quot;</span></span>: [<span class="string"><span class="delimiter">&quot;</span><span class="content">2011-07-14T22:01:01.450Z</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">2011-07-14T23:01:01.450Z</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">2011-07-15T00:01:01.450Z</span><span class="delimiter">&quot;</span></span>],
        <span class="key"><span class="delimiter">&quot;</span><span class="content">length</span><span class="delimiter">&quot;</span></span>: {
            <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">measure</span><span class="delimiter">&quot;</span></span>,
            <span class="key"><span class="delimiter">&quot;</span><span class="content">form</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.qudt.org/qudt/owl/1.0.0/quantity/Length</span><span class="delimiter">&quot;</span></span>, <span class="comment">// a URI denoting a unit-of-measure</span>
            <span class="key"><span class="delimiter">&quot;</span><span class="content">values</span><span class="delimiter">&quot;</span></span>: [<span class="float">1.0</span>, <span class="float">2.4</span>, <span class="float">1.0</span>], <span class="comment">// the array of values for &quot;length&quot;, with the same number of elements as &quot;datetimes&quot;</span>
            <span class="key"><span class="delimiter">&quot;</span><span class="content">interpolation</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Continuous</span><span class="delimiter">&quot;</span></span>,
            <span class="key"><span class="delimiter">&quot;</span><span class="content">description</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">description1</span><span class="delimiter">&quot;</span></span> <span class="comment">//(OPTIONAL)</span>
        },
        <span class="key"><span class="delimiter">&quot;</span><span class="content">message</span><span class="delimiter">&quot;</span></span>:{
            <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">text</span><span class="delimiter">&quot;</span></span>, <span class="comment">// a predefined unit for a string value</span>
            <span class="key"><span class="delimiter">&quot;</span><span class="content">values</span><span class="delimiter">&quot;</span></span>: [<span class="string"><span class="delimiter">&quot;</span><span class="content">A</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">B</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">C</span><span class="delimiter">&quot;</span></span>], <span class="comment">// the array of values for &quot;message&quot;, with the same number of elements as &quot;datetimes&quot;</span>
            <span class="key"><span class="delimiter">&quot;</span><span class="content">interpolation</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Discontinuous</span><span class="delimiter">&quot;</span></span>,
            <span class="key"><span class="delimiter">&quot;</span><span class="content">description</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">description2</span><span class="delimiter">&quot;</span></span> <span class="comment">//(OPTIONAL)</span>
        }
      },{
        <span class="key"><span class="delimiter">&quot;</span><span class="content">datetimes</span><span class="delimiter">&quot;</span></span> : [<span class="integer">1465621816590</span>, <span class="integer">1465711526300</span>],
        <span class="key"><span class="delimiter">&quot;</span><span class="content">discharge</span><span class="delimiter">&quot;</span></span> : {
            <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span> : <span class="string"><span class="delimiter">&quot;</span><span class="content">measure</span><span class="delimiter">&quot;</span></span>,
            <span class="key"><span class="delimiter">&quot;</span><span class="content">form</span><span class="delimiter">&quot;</span></span> : <span class="string"><span class="delimiter">&quot;</span><span class="content">m^3/s</span><span class="delimiter">&quot;</span></span>, <span class="comment">// a symbol from UCUM</span>
            <span class="key"><span class="delimiter">&quot;</span><span class="content">values</span><span class="delimiter">&quot;</span></span> : [<span class="float">3.0</span>, <span class="float">4.0</span>],
            <span class="key"><span class="delimiter">&quot;</span><span class="content">interpolation</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Minimum</span><span class="delimiter">&quot;</span></span>
        },
        <span class="key"><span class="delimiter">&quot;</span><span class="content">camera</span><span class="delimiter">&quot;</span></span> : {
            <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span> : <span class="string"><span class="delimiter">&quot;</span><span class="content">image</span><span class="delimiter">&quot;</span></span>,
            <span class="key"><span class="delimiter">&quot;</span><span class="content">values</span><span class="delimiter">&quot;</span></span> : [<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.opengis.net/spec/movingfeatures/json/1.0/prism/example/image1</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">iVBORw0KGgoAAAANSUhEU......</span><span class="delimiter">&quot;</span></span>],
            <span class="key"><span class="delimiter">&quot;</span><span class="content">interpolation</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Discontinuous</span><span class="delimiter">&quot;</span></span>
        }
      }
    ]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>A MF-JSON Prism document may contain JSON objects that represent instances with the following types,
as well as primitives types of JSON null, true, false, string, number, and array.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>TemporalGeometry object (see <a href="#tgeometry">7.2.1</a>)</p>
<div class="ulist">
<ul>
<li>
<p>TemporalPrimitiveGeometry object</p>
</li>
<li>
<p>TemporalAggregateGeometry object</p>
</li>
</ul>
</div>
</li>
<li>
<p>TemporalProperties object (see <a href="#tproperties">7.2.2</a>)</p>
</li>
<li>
<p>CoordinateReferenceSystem object (see <a href="#crs">7.2.3</a>)</p>
</li>
<li>
<p>MovingFeature object (see <a href="#mfeature">7.2.4</a>)</p>
</li>
<li>
<p>MovingFeatureCollection object (see <a href="#mfeaturecollection">7.2.5</a>)</p>
</li>
<li>
<p>LifeSpan object (see <a href="#time">7.2.6</a>)</p>
</li>
<li>
<p>BoundingBox object (see <a href="#bbox">7.2.7</a>)</p>
</li>
<li>
<p>Geometry object (see <a href="#geometry">7.2.8</a>)</p>
</li>
<li>
<p>Properties object (see <a href="#properties">7.2.9</a>)</p>
</li>
<li>
<p>MotionCurve object (see <a href="#interpolation">7.2.10</a>)</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #CACCCE;"><p class="tableblock"><strong>Requirements Class: MF-JSON Prism</strong> </p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/movingfeatures/json/1.0/prism/req" class="bare">http://www.opengis.net/spec/movingfeatures/json/1.0/prism/req</a> </p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Target type</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">JSON object</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">ISO 19141</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Dependency</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">IETF GeoJSON</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #CACCCE;"><p class="tableblock"><strong>Requirement 2.1</strong> </p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/movingfeatures/json/1.0/prism/GeoJSON" class="bare">http://www.opengis.net/spec/movingfeatures/json/1.0/prism/GeoJSON</a><br>
A MF-JSON Prism file SHALL be compatible with the IETF GeoJSON Format.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #CACCCE;"><p class="tableblock"><strong>Requirement 2.2</strong> </p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/movingfeatures/json/1.0/prism/object" class="bare">http://www.opengis.net/spec/movingfeatures/json/1.0/prism/object</a><br>
A JSON object in an MF-JSON Prism file SHALL be encoded by one of the data formats of Object types defined in this standard.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #CACCCE;"><p class="tableblock"><strong>Requirement 2.3</strong> </p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/movingfeatures/json/1.0/prism/conflict" class="bare">http://www.opengis.net/spec/movingfeatures/json/1.0/prism/conflict</a><br>
Two encodings of MF-JSON Prism and MF-JSON Trajectory SHALL be not able to coexist with each other in a GeoJSON Feature object.</p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="tgeometry"><a class="anchor" href="#tgeometry"></a>7.2.1. TemporalGeometry Object</h4>
<div class="paragraph">
<p>A TemporalGeometry object represents the movement of a moving feature, i.e., changes of the position.
Comparing to MF-JSON Trajectory, MF-JSON Prism provides an encoding rule for conceptual schemas specifying
prisms of the set of leaves (<strong>MF_PrismGeometry</strong> in ISO 19141) or trajectories (<strong>MF_TemporalTrajectory</strong> in ISO 19141).
The TemporalGeometry object is modeled as a mapping function from \(t\in time\)
to a Geometry object \(g\) of Point, LineString, Polygon, MultiPoint, MultiLineString, MultiPolygon,
or GeometryCollection.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A TemporalGeometry object is a JSON object that has at least three members with the name <code>"type"</code>, <code>"crs"</code>, and <code>"trs"</code> as shown in <a href="#tgeometryjson">Example 5</a>.</p>
</li>
<li>
<p>The value of the <code>"type"</code> member is one of string <code>"MovingPoint"</code>, <code>"MovingLineString"</code>, <code>"MovingPolygon"</code>, <code>"MovingPointCloud"</code>,
<code>"MultiMovingPoint"</code>, <code>"MultiMovingLineString"</code>, <code>"MultiMovingPolygon"</code>, and <code>"MovingGeometryCollection"</code>.</p>
</li>
<li>
<p>The value of the <code>"crs"</code> and <code>"trs"</code> member is a JSON object to represent a CoordinateReferenceSystem (CRS) object (see <a href="#crs">7.2.3</a>).
If an object has no <code>"crs"</code> and <code>"trs"</code> member, then it may acquire the CRS instances of
the <code>"crs"</code> and <code>"trs"</code> member from upper-level braces of a JSON object.
If no CRS instance can be so acquired in a file, the default CRSs shall be applied to the object.</p>
</li>
</ul>
</div>
<div id="tgeometryjson" class="listingblock">
<div class="title">Example 5: Common members of a TemporalGeometry object</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">{
  <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">...</span><span class="delimiter">&quot;</span></span>, <span class="comment">//(MANDATORY)</span>
  <span class="key"><span class="delimiter">&quot;</span><span class="content">crs</span><span class="delimiter">&quot;</span></span> : {...}, <span class="comment">//(DEFAULT)</span>
  <span class="key"><span class="delimiter">&quot;</span><span class="content">trs</span><span class="delimiter">&quot;</span></span> : {...}, <span class="comment">//(DEFAULT)</span>
  ......, <span class="comment">// different expression with respect to the value of &quot;type&quot;</span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The TemporalGeometry object is classified into two object types of TemporalPrimitiveGeometry
and TemporalAggregateGeometry with different members depending upon the value of the <code>"type"</code> member.</p>
</div>
<div class="sect4">
<h5 id="_temporalprimitivegeometry_object"><a class="anchor" href="#_temporalprimitivegeometry_object"></a>TemporalPrimitiveGeometry Object</h5>
<div class="paragraph">
<p>A TemporalPrimitiveGeometry object describes the movement of a geographic feature whose
leaf geometry at a time instant is drawn by a primitive geometry such as a point, linestring, and polygon in the two- or three-dimensional spatial coordinate system,
or a point cloud in the three-dimensional spatial coordinate system.
The TemporalPrimitiveGeometry object is defined with additional members
named <code>"datetimes"</code>, <code>"coordinates"</code>, <code>"interpolation"</code>, <code>"orientations"</code>, and <code>"base"</code> as shown in <a href="#tprimitivejson">Example 6</a>, as well as the common members in <a href="#tgeometryjson">Example 5</a>.</p>
</div>
<div id="tprimitivejson" class="listingblock">
<div class="title">Example 6: Members of a TemporalPrimitiveGeometry Object</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">{
  <span class="comment">// vbar | as a means to select ONE type.</span>
  <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">MovingPoint | MovingLineString | MovingPolygon | MovingPointCloud</span><span class="delimiter">&quot;</span></span>, <span class="comment">//(MANDATORY)</span>
  <span class="key"><span class="delimiter">&quot;</span><span class="content">datetimes</span><span class="delimiter">&quot;</span></span> : [...],    <span class="comment">//(MANDATORY)</span>
  <span class="key"><span class="delimiter">&quot;</span><span class="content">coordinates</span><span class="delimiter">&quot;</span></span>: [...],   <span class="comment">//(MANDATORY)</span>
  <span class="key"><span class="delimiter">&quot;</span><span class="content">interpolation</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">...</span><span class="delimiter">&quot;</span></span>, <span class="comment">//(DEFAULT)</span>
  <span class="key"><span class="delimiter">&quot;</span><span class="content">base</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">...</span><span class="delimiter">&quot;</span></span>,          <span class="comment">//(OPTIONAL)</span>
  <span class="key"><span class="delimiter">&quot;</span><span class="content">orientations</span><span class="delimiter">&quot;</span></span>: [...],  <span class="comment">//(OPTIONAL)</span>
  <span class="key"><span class="delimiter">&quot;</span><span class="content">crs</span><span class="delimiter">&quot;</span></span>: {...},           <span class="comment">//(DEFAULT)</span>
  <span class="key"><span class="delimiter">&quot;</span><span class="content">trs</span><span class="delimiter">&quot;</span></span>: {...}            <span class="comment">//(DEFAULT)</span>
}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>"type"</code>: The <code>"type"</code> member is mandatory and its value is one of string
<code>"MovingPoint"</code>, <code>"MovingLineString"</code>, <code>"MovingPolygon"</code>, and <code>"MovingPointCloud"</code>.
The value specifies the type of a TemporalPrimitiveGeometry object
for the interpretation of the array value of the "coordinates" member. Each type represents as follows:</p>
<div class="ulist">
<ul>
<li>
<p><strong>MovingPoint</strong>: The type represents a trajectory of a time-parametered 0-dimensional (0D) geometric primitive (Point),
representing a single position at a time position (instant) within its temporal domain.
Intuitively a temporal geometry of this type depicts a curve in a spatiotemporal domain.
It supports more complex movements of moving features, as well as linear movement like MF-JSON Trajectory.
For example, the non-linear movement information of people, vehicles, or hurricanes can
be shared as a TemporalPrimitiveGeometry object with the <code>"MovingPoint"</code> type.</p>
</li>
<li>
<p><strong>MovingLineString</strong>: The type represents the prism of a time-parametered 1-dimensional (1D) geometric primitive (LineString),
whose leaf geometry at a time position is a 1D linear object in a particular time period.
Intuitively a temporal geometry of this type depicts a set of surfaces in a spatiotemporal domain.
For example, the movement information of weather fronts or traffic congestion on roads can be shared
as a TemporalPrimitiveGeometry object with the <code>"MovingLineString"</code> type.</p>
</li>
<li>
<p><strong>MovingPolygon</strong>: The type represents the prism of a time-parametered 2-dimensional (2D) geometric primitive (Polygon),
whose leaf geometry at a time position is a 2D polygonal object in a particular time period.
Intuitively a temporal geometry of this type depicts a set of polyhedrons that are the convex hulls of two congruent polygons in a spatiotemporal domain.
For example, the changes of flooding areas or the movement information of air pollution can be shared as a TemporalPrimitiveGeometry object with the <code>"MovingPolygon"</code> type.</p>
</li>
<li>
<p><strong>MovingPointCloud</strong>: The type represents the prism of a time-parametered point aggregate
whose leaf geometry at a time position is a set of points in a particular time period.
Intuitively a temporal geometry of this type depicts a set of curves in a spatiotemporal domain.
For example, the tacking information by using Light Detection and Ranging (LiDAR) can be shared as a TemporalPrimitiveGeometry object with the <code>"MovingPointCloud"</code> type.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>"datetimes"</code>: The <code>"datetimes"</code> member is mandatory. Its value is a JSON array of
a sequence of monotonic increasing instants, having at least one element that is not <code>null</code>.
It does NOT allow a JSON <code>null</code> value. The expression of element instant is based on
its temporal coordinate reference system that is given by the <code>"trs"</code> member.</p>
<table class="tableblock frame-all grid-all" style="width: 99%;">
<colgroup>
<col style="width: 10%;">
<col style="width: 50%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Types</th>
<th class="tableblock halign-center valign-top" style="background-color: #FFFFFF;">Formats of the <code>"datetimes"</code> value</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><em>Comments</em></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">TimeInstant</p></td>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">[t1, t2, t3, &#8230;&#8203;]</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><em>a list of monotonic increasing instants, i.e., \(t1 &lt; t2 &lt; t3 &lt;...\)</em></p></td>
</tr>
</tbody>
</table>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When the <code>"trs"</code> member has the default temporal CRS (i.e., ISO8601) object, an instant is generally encoded as a a JSON string
of <a href="https://www.iso.org/iso-8601-date-and-time-format.html">ISO 8601</a> field-based formats using Z (e.g., <code>"2016-09-11T06:10:32Z"</code>) or
incremental time as the number of milliseconds since midnight (00:00 a.m.) on January 1, 1970 in UTC (e.g., <code>1465621816590</code>),
but others can be used such as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>   YYYY (e.g., 1997)
   Year and month:
      YYYY-MM (e.g., 1997-07)
   Complete date:
      YYYY-MM-DD (e.g., 1997-07-16)
   Complete date plus hours and minutes:
      YYYY-MM-DDThh:mmTZD (e.g., 1997-07-16T19:20+01:00)
   Complete date plus hours, minutes and seconds:
      YYYY-MM-DDThh:mm:ssTZD (e.g., 1997-07-16T19:20:30+01:00)
   Complete date plus hours, minutes, seconds and a decimal fraction of a second
      YYYY-MM-DDThh:mm:ss.sTZD (e.g., 1997-07-16T19:20:30.450Z)
   where:
           YYYY = four-digit year
           MM   = two-digit month (01=January, etc.)
           DD   = two-digit day of month (01 through 31)
           hh   = two digits of hour (00 through 23) (am/pm NOT allowed)
           mm   = two digits of minute (00 through 59)
           ss   = two digits of second (00 through 59)
           s    = one or more digits representing a decimal fraction of a second
           TZD  = time zone designator (Z or +hh:mm or -hh:mm)</pre>
</div>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p><code>"coordinates"</code>: The <code>"coordinates"</code> member is mandatory. Its value is a JSON array of a sequence
of leaf geometries of a temporal geometry. It does NOT allow a JSON <code>null</code> value nor an empty array.
Each leaf geometry corresponds to each instant element in the array value of <code>"datetimes"</code> in order.
The value expression of this member is different depending on the <code>"type"</code> value as follows:</p>
<table class="tableblock frame-all grid-all" style="width: 99%;">
<colgroup>
<col style="width: 10%;">
<col style="width: 50%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Types</th>
<th class="tableblock halign-center valign-top" style="background-color: #FFFFFF;">Formats of the <code>"coordinates"</code> value</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><em>Comments</em></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">MovingPoint</p></td>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">[ [x1,y1(,z1)], [x2,y2(,z2)], &#8230;&#8203; ]</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><em>a list of Point coordinates to construct a 0D leaf geometry (point) corresponding to each instant in order</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">MovingLineString</p></td>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">[ [[x11,y11(,z11)], [x12,y12(,z12)], &#8230;&#8203;], [[x21,y21(,z21)], [x22,y22(,z22)], &#8230;&#8203;], &#8230;&#8203; ]</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><em>a list of LineString coordinate arrays to construct a 1D leaf geometry (linestring) corresponding to each instant in order</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">MovingPolygon</p></td>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">[ [[[ox11,oy11(,oz11)], [ox12,oy12(,oz12)], &#8230;&#8203;], [[ix11,iy11(,iz11)],[ix12,iy12(,iz12)], &#8230;&#8203;],&#8230;&#8203;], [[[ox21,oy21(,oz21)], [ox22,oy22(,oz22)], &#8230;&#8203;], [[ix21,iy21(,iz21)],[ix22,iy22(,iz22)], &#8230;&#8203;], &#8230;&#8203;], &#8230;&#8203; ]</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><em>a list of Polygon
coordinate arrays to construct a 2D leaf geometry (polygon) corresponding to each instant in order</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">MovingPointCloud</p></td>
<td class="tableblock halign-center valign-top" style="background-color: #FFFFFF;"><p class="tableblock">[ [[x11,y11,z11], [x12,y12,z12], &#8230;&#8203;], [[x21,y21,z21], [x22,y22,z22], &#8230;&#8203;], &#8230;&#8203; ]</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><em>a list of MultiPoint 3D coordinate arrays to construct a set of points as a leaf geometry corresponding to each instant in order</em></p></td>
</tr>
</tbody>
</table>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>A single position is represented by a JSON array of numbers, which must contain two or more elements.
The first two elements are longitude/easting (x) and latitude/northing (y), precisely in that order and using decimal numbers.
altitude/elevation (z) MAY be included as an optional third element.</p>
</li>
<li>
<p>A Point coordinate is a single position.</p>
</li>
<li>
<p>A LineString coordinate array is expressed as a JSON array of two or more single positions, allowing the same positions.</p>
</li>
<li>
<p>A Polygon coordinate array is expressed as a JSON array of LinearRing coordinate arrays. A LinearRing is closed LineString with 4 or more single positions, allowing the same positions.
The first and last positions are equivalent (they represent equivalent points). For Polygons with multiple rings, the first must be the exterior ring and any others must be interior rings or holes.</p>
</li>
<li>
<p>A MultiPoint 3D coordinate array is a JSON array of single positions with altitude/elevation (z).</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p><code>"interpolation"</code>: The <code>"interpolation"</code> member is default and the most important member
to represent various types of dynamic movements.
Its value is a MotionCurve object that is described
by a case-sensitive string as one of predefined five motion curves (i.e., <code>"Discrete"</code>, <code>"Step"</code>, <code>"Linear"</code>, <code>"Quadratic"</code>, and <code>"Cube"</code>) or
a URL (e.g., <code>"http://www.opengis.net/spec/movingfeatures/json/1.0/prism/example/motioncurve"</code>).
The URL indicates a JSON document containing a user-defined curve of parametric motion
for the movement of a feature in two- or three-space.
The detail interpretation and representation of method is described in <a href="#interpolation">7.2.10</a>.
If the TemporalPrimitiveGeometry object has no member with the name <code>"interpolation"</code>,
it is interpreted by <code>"Linear"</code>.</p>
</li>
<li>
<p><code>"base"</code>: The <code>"base"</code> member is optional and it value is a URL to address a OBJ<a href="#OBJ">[6]</a>
file of a 3D model data. It allows a JSON <code>null</code> value.
The 3D model represent a base geometry of a 3D rigid shape, and
the combination of the <code>"base"</code> and <code>"orientations"</code> members represents a 3D temporal geometry
of the MF_RigidTemporalGeometry type in ISO 19141. In MF-JSON Prism, the 3D model is transformed
into the fixed local coordinate reference system whose bound is <strong>-0.5 to 0.5</strong> for each axis and unit is <strong>meter</strong>.
The origin of the local coordinate reference system is 0 for each axis is transformed
into the centroid of each leaf geometry of a temporal geometry.</p>
</li>
<li>
<p><code>"orientations"</code>:  The <code>"orientations"</code> member is optional and always accompanied
with the <code>"base"</code> member. Its value is a JSON array as a sequence of transform matrices
for rotating and scaling of the base representation of a member named <code>"base"</code>,
having the same number of elements of the <code>"datetimes"</code> value.
It allows a JSON <code>null</code> value or an empty array
if and only if the <code>"base"</code> member has a JSON <code>null</code> value.
A transformation matrix is defined by a linear transformation
from the local engineering coordinate reference system to a global geographic coordinate reference system.
A source 3D coordinate, \((x, y, z)\), transforms into a target 3D coordinate,
\((x', y', z')\), by using the quaternions and the scaling factors,
\((x, y, z) \rightarrow (x', y', z')\), as follows:
 
\begin{matrix}
\begin{bmatrix}
	x'\\  y'\\  z'\\ 1
\end{bmatrix}
&amp;
=
&amp;
\begin{bmatrix}
S_x(1 - 2(Y^2+Z^2)) &amp; 2S_y(XY + ZW) &amp; 2S_z(XZ-YW) &amp; 0 \\
2S_x(XY - ZW) &amp; S_y(1 - 2(X^2+Z^2)) &amp; 2S_z(YZ+XW) &amp; 0 \\
2S_x(XZ + YW) &amp; 2S_y(YZ - XW) &amp; S_z(1 - 2(X^2+Y^2)) &amp; 0 \\
0 &amp; 0 &amp; 0 &amp; 1
\end{bmatrix}
&amp;
\begin{bmatrix}
	x\\ y\\ z\\ 1
\end{bmatrix}
\\
\end{matrix}
 </p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The scaling factor takes the form of a vector \(S = &lt;S_x, S_y, S_z&gt;\), where \(S_x\), \(S_y\) and \(S_z\)
respectively is a coefficient against each axis to extend or shrink the base representation from the local coordinate reference system
to a global coordinate reference system.
The quaternion takes the form of a vector \(Q = &lt;X, Y, Z, W&gt;\), where \(X\), \(Y\) and \(Z\) are coefficients
defining an axis of rotation in an imaginary spherical space surrounding the moving feature,
and \(W\) is a scalar representation of the amount of rotation applied around the axis.
At this point it should be noted that the \(X\), \(Y\) and \(Z\) components of a quaternion are not the same as the components
of a three-dimensional unit vector, nor is \(W\) a direct representation of a rotation in degree.
To convert Euler angles to quaternion form, defining the angle around the X-axis (roll) as \(\psi\), the Y-axix (pitch) as \(\theta\), and the Z-axis (yaw) as \(\phi\).
The quaternion \(Q\) can then be calculated as follow:</p>
</div>
<div class="stemblock">
<div class="content">
\[[X = sin(\dfrac{\psi}{2})cos(\dfrac{\theta}{2})cos(\dfrac{\phi}{2}) - cos(\dfrac{\psi}{2})sin(\dfrac{\theta}{2})sin(\dfrac{\phi}{2})]\]
</div>
</div>
<div class="stemblock">
<div class="content">
\[[Y = cos(\dfrac{\psi}{2})sin(\dfrac{\theta}{2})cos(\dfrac{\phi}{2}) + sin(\dfrac{\psi}{2})cos(\dfrac{\theta}{2})sin(\dfrac{\phi}{2})]\]
</div>
</div>
<div class="stemblock">
<div class="content">
\[[Z = cos(\dfrac{\psi}{2})cos(\dfrac{\theta}{2})sin(\dfrac{\phi}{2}) - sin(\dfrac{\psi}{2})sin(\dfrac{\theta}{2})cos(\dfrac{\phi}{2})]\]
</div>
</div>
<div class="stemblock">
<div class="content">
\[[W = cos(\dfrac{\psi}{2})cos(\dfrac{\theta}{2})cos(\dfrac{\phi}{2}) + sin(\dfrac{\psi}{2})sin(\dfrac{\theta}{2})sin(\dfrac{\phi}{2})]\]
</div>
</div>
<div id="mf-orientation" class="imageblock text-center">
<div class="content">
<img src="./images/mf-orientation.png" alt="mf-orientation" width="65%">
</div>
<div class="title">Figure 8. The transformation of a 3D model by using the orientation matrices.</div>
</div>
</div>
<div class="sect4">
<h5 id="taggregate"><a class="anchor" href="#taggregate"></a>TemporalAggregateGeometry Object</h5>
<div class="paragraph">
<p>A TemporalAggregateGeometry object represents a set of TemporalPrimitiveGeometry objects.
When a TemporalGeometry object has a <code>"type"</code> member with one of the value
of <code>"MultiMovingPoint"</code>, <code>"MultiMovingLineString"</code>, <code>"MultiMovingPolygon"</code>, and <code>"MovingGeometryCollection"</code>,
the object is specialized as a TemporalAggregateGeometry object with one additional member
named <code>"prisms"</code>. The value of the <code>"prisms"</code> member is represented by
a JSON array of a set of TemporalPrimitiveGeometry instances, having at least one element in the array.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">{
    <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">MultiMovingPoint | MultiMovingLineString | MultiMovingPolygon</span><span class="delimiter">&quot;</span></span> | <span class="string"><span class="delimiter">&quot;</span><span class="content">MovingGeometryCollection</span><span class="delimiter">&quot;</span></span>,  <span class="comment">// (MANDATORY) vbar | as a means to select ONE type.</span>
    <span class="key"><span class="delimiter">&quot;</span><span class="content">prisms</span><span class="delimiter">&quot;</span></span>: [  <span class="comment">//(MANDATORY)</span>
        {
            <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">MovingPoint | MovingLineString | MovingPolygon</span><span class="delimiter">&quot;</span></span>,  <span class="comment">// (MANDATORY) vbar | as a means to select ONE type.</span>
            <span class="key"><span class="delimiter">&quot;</span><span class="content">datetimes</span><span class="delimiter">&quot;</span></span> : [...],    <span class="comment">//(MANDATORY)</span>
            <span class="key"><span class="delimiter">&quot;</span><span class="content">coordinates</span><span class="delimiter">&quot;</span></span>: [...],   <span class="comment">//(MANDATORY)</span>
            <span class="key"><span class="delimiter">&quot;</span><span class="content">interpolation</span><span class="delimiter">&quot;</span></span>: [...], <span class="comment">//(DEFAULT)</span>
            ...
        },
        ...
    ],
    <span class="key"><span class="delimiter">&quot;</span><span class="content">trs</span><span class="delimiter">&quot;</span></span>: {}, <span class="comment">//(OPTIONAL)</span>
    <span class="key"><span class="delimiter">&quot;</span><span class="content">crs</span><span class="delimiter">&quot;</span></span>: {}  <span class="comment">//(OPTIONAL)</span>
}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>MultiMovingPoint</strong>: An element of the "prisms" member SHALL be a JSON array of TemporalPrimitiveGeometry instances of type <code>"MovingPoint"</code>.
The leaf geometry at a time position must be an instance of type "MultiPoint" of GeoJSON, which is the union of each leaf of moving point members at the same time.</p>
</li>
<li>
<p><strong>MultiMovingLineString</strong>: An element of the "prisms" member SHALL be a JSON array of TemporalPrimitiveGeometry instances of type <code>"MovingLineString"</code>.
The leaf geometry at a time position must be an instance of type "MultiLineString" of GeoJSON, which is the union of each leaf of moving linestring members at the same time.</p>
</li>
<li>
<p><strong>MultiMovingPolygon</strong>: An element of the "prisms" member SHALL be a JSON array of TemporalPrimitiveGeometry instances of type <code>"MovingPolygon"</code>.
The leaf geometry at a time position must be an instance of type "MultiPolygon" of GeoJSON, which is the union of each leaf of moving polygon members at the same time.</p>
</li>
<li>
<p><strong>MovingGeometryCollection</strong>: Each element of "prisms" can be an TemporalPrimitiveGeometry with one of types of <code>"MovingPoint"</code>, <code>"MovingLineString"</code>, <code>"MovingPolygon"</code>, and <code>"MovingPointCloud"</code>.
The leaf geometry at a time position must be an instance of type <code>"GeometryCollection"</code> of GeoJSON, which is the union of each leaf of any temporal geometries at the same time.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="tproperties"><a class="anchor" href="#tproperties"></a>7.2.2. TemporalProperties Object</h4>
<div class="paragraph">
<p>A TemporalProperties object is a JSON object to represent
a collection of dynamic values of properties that are ascertained at the same times.
A dynamic value may be a time-varying measure, a sequence of texts, or a sequence of images.
Even though the dynamic value may depends on the spatiotemporal location,
MF-JSON Prism only considers the temporal dependencies of their changes of value.</p>
</div>
<div id="tpropertiesjson" class="listingblock">
<div class="title">Example 7: Examples of a TemporalProperties object</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">{
  <span class="key"><span class="delimiter">&quot;</span><span class="content">datetimes</span><span class="delimiter">&quot;</span></span>: [...], <span class="comment">//(MANDATORY) a JSON Array of time instants</span>
  <span class="key"><span class="delimiter">&quot;</span><span class="content">@property0</span><span class="delimiter">&quot;</span></span>: {    <span class="comment">// @property0 whose name is any string defined by an application.</span>
      <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">measure</span><span class="delimiter">&quot;</span></span>,<span class="comment">//(MANDATORY) a predefined string among `measure`, `text`, and `image`</span>
      <span class="key"><span class="delimiter">&quot;</span><span class="content">values</span><span class="delimiter">&quot;</span></span>: [...],            <span class="comment">//(MANDATORY) a JSON Array of values</span>
      <span class="key"><span class="delimiter">&quot;</span><span class="content">interpolation</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">...</span><span class="delimiter">&quot;</span></span>,     <span class="comment">//(DEFAULT) a predefined string</span>
      <span class="key"><span class="delimiter">&quot;</span><span class="content">form</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">...</span><span class="delimiter">&quot;</span></span>,              <span class="comment">//(OPTIONAL) a symbol from UCUM</span>
      <span class="key"><span class="delimiter">&quot;</span><span class="content">description</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">any string</span><span class="delimiter">&quot;</span></span> <span class="comment">//(OPTIONAL) any string content for an application</span>
  },
  <span class="key"><span class="delimiter">&quot;</span><span class="content">@property1</span><span class="delimiter">&quot;</span></span>: { <span class="comment">// @property1 whose name is any string defined by an application, but the name is not the same as @property0.</span>
      <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">text</span><span class="delimiter">&quot;</span></span>, <span class="comment">// @property1 has values at the same time instants of @property0</span>
      ...
  },
  <span class="key"><span class="delimiter">&quot;</span><span class="content">@property2</span><span class="delimiter">&quot;</span></span> : { <span class="comment">// @property1 whose name is any string defined by an application, but the name is same neither @property0 nor @property1.</span>
    <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">image</span><span class="delimiter">&quot;</span></span>,
    ....
  },
  ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>A TemporalProperties object has one <code>"datetimes"</code> member and
more than one member with the name \(@propertyN\), where \(@propertyN\)
is any string defined by an application as a temporal property.
The value of the "\(@propertyN\)" member is a JSON object that has the following fields:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>"type"</code>: The <code>"type"</code> member is mandatory and has a string as one of the followings:</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all" style="width: 98%;">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">type strings</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Descriptions</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">measure</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">The <code>"values"</code> member contains any numeric values.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">text</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">The <code>"values"</code> member contains any strings.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">image</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">The <code>"values"</code> member contains Base64 strings converted from images or URLs to address images.</p></td>
</tr>
</tbody>
</table>
<div class="ulist">
<ul>
<li>
<p><code>"values"</code>: The <code>"values"</code> member is mandatory and
has a JSON array whose element is a string (including null, true and false) or numeric value.
The number of elements is the same as the "datetimes" ones.
There is an one-to-one correspondence between the elements of <code>"values"</code> of a \(@propertyN\) object
and <code>"datetimes"</code> as a temporal sequence of pairs \((v,t)\),
where \(v\) is a value of measurement and \(t\) is its sampling time.</p>
</li>
<li>
<p><code>"interpolation"</code>: The temporal property also needs to define an interpolation method like the TemporalPrimitiveGeometry object.
This standard defines the following interpolation methods for the temporal property by referring to <a href="http://docs.opengeospatial.org/is/15-042r3/15-042r3.html#75">InterpolationCode</a>
defined in OGC <a href="http://docs.opengeospatial.org/is/15-042r3/15-042r3.html">TimeseriesML 1.0</a>.</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all" style="width: 98%;">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Names</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Descriptions</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Discrete</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">The sampling of the property occurs such that it is not possible to regard the series as continuous.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Minimum</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Value represents the minimum value that was measured during the preceding time interval.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Maximum</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Value represents the maximum value that was measured during the preceding time interval.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Average</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Value represents the average value over the preceding interval.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Linear</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">The values are essentially connected and linear interpolation estimates the value of the property at the indicated instant during the time interval.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Regression</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">The value of the property at the indicated instant is estimated from a simple linear regression model with the whole observation values corresponding to the all elements in "datetimes".</p></td>
</tr>
</tbody>
</table>
<div class="ulist">
<ul>
<li>
<p><code>"form"</code>: The <code>"form"</code> member is optional and has a string as
a standard of measurement [ISO 19103:2015] or a URI denoting a unit-of-measure defined in a web resource.
This member is applied only for a temporal property whose value type is <code>measure</code>.</p>
</li>
<li>
<p><code>"description"</code>: The <code>"description"</code> member is optional and its value is any string to describe a short description.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="crs"><a class="anchor" href="#crs"></a>7.2.3. CoordinateReferenceSystem Object</h4>
<div class="paragraph">
<p>A coordinate reference system is usually comprised of two components: one coordinate system and one datum (reference frame).
The IETF GeoJSON format recommends that the coordinate reference system for all GeoJSON coordinates is a geographic coordinate reference system,
using the World Geodetic System 1984 (WGS 84)<a href="#WGS84">[1]</a> datum, with longitude and latitude units of decimal degrees.
This is equivalent to the coordinate reference system identified by the <a href="http://spatialreference.org/ref/epsg/wgs-84">EPSG:4326</a> with the axis Lat-Long.
For a 3D coordinate with an altitude/elevation value, the value refers to distance above mean sea level (MSL or AMSL).
However, a moving feature needs a temporal coordinate system and may be described by an engineering or parametric coordinates
in a certain application, such as robot or vessel navigation.
Therefore, MF-JSON Prism allows the <code>"crs"</code> member to describe an alternative coordinate reference system
whose representation follows the way as described in GeoJSON(2008)<a href="#GJSON2008">[4]</a>.
Also it defines the <code>"trs"</code> member to describe a temporal coordinate reference system
against which time is measured.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A non-null CoordinateReferenceSystem (CRS) object is a JSON object
with two mandatory members of the name <code>"type"</code> and <code>"properties"</code>.</p>
</li>
<li>
<p>The value of the <code>"type"</code> member is a JSON string as one of the string <code>"name"</code> and <code>"link"</code>, indicating the type of CRS object.</p>
</li>
<li>
<p>The value of the <code>"properties"</code> member is a JSON object with three optional members
named <code>"name"</code>, <code>"href"</code>, and <code>"type"</code> whose value is a JSON string or JSON <code>null</code> value.</p>
</li>
<li>
<p>CRS shall not change coordinate ordering.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Depending on the value of <code>"type"</code>, there are three expressions: Named CRS, Linked CRS, and Default CRS.</p>
</div>
<div class="sect4">
<h5 id="_named_crs"><a class="anchor" href="#_named_crs"></a>Named CRS</h5>
<div class="paragraph">
<p>A Named CRS object indicates a coordinate reference system by name.
In this case, the value of its <code>"type"</code> member is the string <code>"name"</code>.
The value of its <code>"properties"</code> member is a JSON object containing a "name" member
whose value is a string identifying a coordinate reference system (not JSON <code>null</code> value).
The value of <code>"href"</code> and <code>"type"</code> is a JSON <code>null</code> value.</p>
</div>
<div id="namedcrs" class="listingblock">
<div class="title">Example 8: Example of a named CRS object</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">{
  <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">properties</span><span class="delimiter">&quot;</span></span>: {
    <span class="key"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">urn:ogc:def:crs:OGC:1.3:CRS84</span><span class="delimiter">&quot;</span></span>
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_linked_crs"><a class="anchor" href="#_linked_crs"></a>Linked CRS</h5>
<div class="paragraph">
<p>A linked CRS object has one required member: <code>"href"</code> and one optional member: <code>"type"</code>.
The value of the required <code>"href"</code> member is a dereferenceable URI.
The value of the optional <code>"type"</code> member is a string that hints at the format
used to represent CRS parameters at the provided URI.
Suggested values are: "proj4", "ogcwkt", "esriwkt", but others can be used.</p>
</div>
<div id="linkedcrs" class="listingblock">
<div class="title">Example 9: Example of a linked CRS object</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">{
  <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">link</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">properties</span><span class="delimiter">&quot;</span></span>: {
    <span class="key"><span class="delimiter">&quot;</span><span class="content">href</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">http://example.com/crs/42</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">proj4</span><span class="delimiter">&quot;</span></span>
  }
}</code></pre>
</div>
</div>
<div id="auxiliarycrs" class="listingblock">
<div class="title">Example 10: Example of a relative linked CRS object with an auxiliary file</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">{
  <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">link</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">properties</span><span class="delimiter">&quot;</span></span>: {
    <span class="key"><span class="delimiter">&quot;</span><span class="content">href</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">data.crs</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">ogcwkt</span><span class="delimiter">&quot;</span></span>
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_default_crs"><a class="anchor" href="#_default_crs"></a>Default CRS</h5>
<div class="paragraph">
<p>MF-JSON Prism defines two default CRS objects for a spatial CRS and a temporal CRS as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://www.opengis.net/def/crs/OGC/1.3/CRS84">WGS 84</a> with longitude and latitude units of decimal degrees:
This CRS object is the default value of the <code>"crs"</code> member.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">    <span class="string"><span class="delimiter">&quot;</span><span class="content">crs</span><span class="delimiter">&quot;</span></span> : {
        <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>,
        <span class="key"><span class="delimiter">&quot;</span><span class="content">properties</span><span class="delimiter">&quot;</span></span>: {
            <span class="key"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">urn:ogc:def:crs:OGC:1.3:CRS84</span><span class="delimiter">&quot;</span></span>
        }
    }</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://www.iso.org/iso/home/standards/iso8601.htm">ISO 8601</a> of dates and times using the Gregorian calendar and 24 hour local or Coordinated Universal Time (UTC):
This CRS object is the default value of the <code>"trs"</code> member.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">    <span class="string"><span class="delimiter">&quot;</span><span class="content">trs</span><span class="delimiter">&quot;</span></span> : {
        <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>,
        <span class="key"><span class="delimiter">&quot;</span><span class="content">properties</span><span class="delimiter">&quot;</span></span>: {
            <span class="key"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">urn:ogc:data:time:iso8601</span><span class="delimiter">&quot;</span></span>
        }
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>A JSON <code>null</code> value of the <code>"crs"</code> and <code>"trs"</code> is considered as WGS 84 and ISO 8601, respectively.</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #CACCCE;"><p class="tableblock"><strong>Requirement 2.#</strong> </p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/movingfeatures/json/1.0/prism/crs" class="bare">http://www.opengis.net/spec/movingfeatures/json/1.0/prism/crs</a><br>
A CoordinateReferenceSystem object SHALL have two mandatory members of <code>"type"</code> and <code>"properties"</code>
to describe an instance of Named CRS, Linked CRS, or Default CRS.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="mfeature"><a class="anchor" href="#mfeature"></a>7.2.4. MovingFeature Object</h4>
<div class="paragraph">
<p>A MovingFeature object in a MF-JSON Prism document is a JSON object to represent
a moving feature that is spatially and temporally bounded,
and its position (continuously) changes over time with the members as shown in <a href="#mfeaturejson">Example 11</a>.</p>
</div>
<div id="mfeaturejson" class="listingblock">
<div class="title">Example 11: Members of a MovingFeature object</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">{
  <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Feature</span><span class="delimiter">&quot;</span></span>, <span class="comment">//(MANDATORY)</span>
  <span class="key"><span class="delimiter">&quot;</span><span class="content">temporalGeometry</span><span class="delimiter">&quot;</span></span>: {...}, <span class="comment">//(MANDATORY)</span>
  <span class="key"><span class="delimiter">&quot;</span><span class="content">temporalProperties</span><span class="delimiter">&quot;</span></span>: [...], <span class="comment">//(OPTIONAL)</span>
  <span class="key"><span class="delimiter">&quot;</span><span class="content">crs</span><span class="delimiter">&quot;</span></span> : {...}, <span class="comment">//(DEFAULT)</span>
  <span class="key"><span class="delimiter">&quot;</span><span class="content">trs</span><span class="delimiter">&quot;</span></span> : {...}, <span class="comment">//(DEFAULT)</span>
  <span class="key"><span class="delimiter">&quot;</span><span class="content">bbox</span><span class="delimiter">&quot;</span></span>: [...], <span class="comment">//(OPTIONAL)</span>
  <span class="key"><span class="delimiter">&quot;</span><span class="content">time</span><span class="delimiter">&quot;</span></span>: [...], <span class="comment">//(OPTIONAL)</span>
  <span class="key"><span class="delimiter">&quot;</span><span class="content">properties</span><span class="delimiter">&quot;</span></span>: {...} <span class="comment">//(OPTIONAL)</span>
}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>A MovingFeature object has a mandatory member with the name <code>"type"</code> whose value is the <code>"Feature"</code> string.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Due to the compatibility issue with GeoJSON, MF-JSON Prism uses the same keyword to abstract a moving feature.
If a GeoJSON document has no foreign member defined in this specification,
applications can interpret the data by the semantics of GeoJSON members and types.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>A MovingFeature object has a mandatory member with the name <code>"temporalGeometry"</code>
and its value is a TemporalGeometry object as defined below (see <a href="#tgeometry">7.2.1</a>).</p>
</li>
<li>
<p>A MovingFeature object has an optional member with the name <code>"temporalProperties"</code>
as additional thematic attributes whose value varies over time.
The <code>"temporalProperties"</code> member has a JSON array of TemporalProperties objects
as defined in <a href="#tproperties">7.2.2</a> or a JSON <code>null</code> value.</p>
</li>
<li>
<p>A MovingFeature object has two default members with the name <code>"crs"</code> and <code>"trs"</code>
for representing its spatial and temporal coordinate reference system respectively.
The value of the <code>"crs"</code> and <code>"trs"</code> member is a CoordinateReferenceSystem (CRS) object (see <a href="#crs">7.2.3</a>).
If a MovingFeature object has no <code>"crs"</code> and <code>"trs"</code>,
the object refers to the default spatial and temporal CRS.
The value expression of spatial and temporal coordinates of <code>"temporalGeometry"</code> and <code>"temporalProperties"</code>
is obedient to these CRS objects.</p>
</li>
<li>
<p>A MovingFeature object can optionally have a <code>"bbox"</code> member for the spatial coordinate range
with a BoundingBox object (see <a href="#bbox">7.2.7</a>). It represents a spatial domain to cover
a temporal geometry or a collection of temporal geometries.</p>
</li>
<li>
<p>A MovingFeature object can optionally have a <code>"time"</code> member for the temporal coordinate range
to cover all of temporal geometries and temporal properties with a LifeSpan object (see <a href="#time">7.2.6</a>).</p>
</li>
<li>
<p>A MovingFeature object has an optional member with the name <code>"properties"</code>
as the same semantics of GeoJSON (see <a href="#properties">7.2.9</a>).
The properties member is an object (i.e., any JSON object or a JSON <code>null</code> value).
The difference from <code>"temporalProperties"</code> is that a <code>"properties"</code> member represents static attributes
whose value is fixed for the life span of a moving feature.</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #CACCCE;"><p class="tableblock"><strong>Requirement 2.4</strong> </p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/movingfeatures/json/1.0/prism/feature" class="bare">http://www.opengis.net/spec/movingfeatures/json/1.0/prism/feature</a><br>
A MovingFeature object SHALL have at least two mandatory members of <code>"type"</code> and <code>"temporalGeometry"</code>.
The value of the <code>"type"</code> member SHALL be string <code>"Feature"</code> string.
The value of the <code>"temporalGeometry"</code> member SHALL be a TemporalGeometry object, not allowing the JSON <code>null</code>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="mfeaturecollection"><a class="anchor" href="#mfeaturecollection"></a>7.2.5. MovingFeatureCollection Object</h4>
<div class="paragraph">
<p>MovingFeatureCollection object is a JSON object with the following members as shown in <a href="#mfeaturecollectionjson">Example 12</a>.
It bundles a collection of moving features into a logical abstraction with a certain alias.</p>
</div>
<div id="mfeaturecollectionjson" class="listingblock">
<div class="title">Example 12: Members of a MovingFeatureCollection object</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">{
  <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">FeatureCollection</span><span class="delimiter">&quot;</span></span>, <span class="comment">//(mandatory)</span>
  <span class="key"><span class="delimiter">&quot;</span><span class="content">features</span><span class="delimiter">&quot;</span></span>: [...], <span class="comment">//(mandatory)</span>
  <span class="key"><span class="delimiter">&quot;</span><span class="content">crs</span><span class="delimiter">&quot;</span></span> : {...}, <span class="comment">//(default)</span>
  <span class="key"><span class="delimiter">&quot;</span><span class="content">trs</span><span class="delimiter">&quot;</span></span> : {...}, <span class="comment">//(default)</span>
  <span class="key"><span class="delimiter">&quot;</span><span class="content">bbox</span><span class="delimiter">&quot;</span></span>: [...], <span class="comment">//(optional)</span>
  <span class="key"><span class="delimiter">&quot;</span><span class="content">time</span><span class="delimiter">&quot;</span></span>: [...], <span class="comment">//(optional)</span>
  <span class="key"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">...</span><span class="delimiter">&quot;</span></span>  <span class="comment">//(optional)</span>
}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>A MovingFeatureCollection object has a mandatory member with the name <code>"type"</code> whose value is the <code>"FeatureCollection"</code> string.</p>
</li>
<li>
<p>A MovingFeatureCollection object has a mandatory member with the name <code>"features"</code>.
Its value is a JSON array and each element of the array is a Feature object as defined above (see <a href="#mfeature">7.2.4</a>).
It is possible for this array to be empty.</p>
</li>
<li>
<p>A MovingFeatureCollection object has two default members with the name <code>"crs"</code> and <code>"trs"</code> like a Feature object.
If a MovingFeatureCollection object has the value of the <code>"crs"</code> or <code>"trs"</code> member,
its elements of <code>"features"</code> refers to the coordinate reference systems of the collection object, not features' reference systems.
The <code>"crs"</code> and <code>"trs"</code> member is on the top-level object in a hierarchy of type MovingFeatureCollection, MovingFeature, TemporalGeometry/TemporalProperties orders.</p>
</li>
<li>
<p>A MovingFeatureCollection object has optional members with the name <code>"bbox"</code> and <code>"time"</code>
for the spatial coordinate range and the temporal coordinate range of the life span to cover
all element instances of the collection respectively.
The value of <code>"bbox"</code> and <code>"time"</code> is a BoundingBox object and a LifeSpan object, respectively.
They allow a JSON <code>null</code> value.</p>
</li>
<li>
<p>A MovingFeatureCollection object may optionally have a <code>"name"</code> member with a JSON string value to indicate an alias of the collection.
It allows a JSON <code>null</code> value.</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #CACCCE;"><p class="tableblock"><strong>Requirement 2.5</strong> </p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock"><a href="http://www.opengis.net/spec/movingfeatures/json/1.0/prism/featurecollection" class="bare">http://www.opengis.net/spec/movingfeatures/json/1.0/prism/featurecollection</a><br>
A MovingFeatureCollection object SHALL have at least two mandatory members of <code>"type"</code> and <code>"features"</code>.
The value of the <code>"type"</code> member SHALL be string <code>"FeatureCollection"</code> string.
The value of the <code>"features"</code> member SHALL be a JSON array whose element is a TemporalGeometry object, allowing the empty array.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="time"><a class="anchor" href="#time"></a>7.2.6. LifeSpan Object</h4>
<div class="paragraph">
<p>A LifeSpan object is a JSON array to represent a time interval \([t_s, t_e\)] with two time instants of \(t_s, t_e\) and \(t_s \leq t_e\).
The expression of an element in the array refers to the default temporal CRS object, i.e., ISO 8601:2004.</p>
</div>
</div>
<div class="sect3">
<h4 id="bbox"><a class="anchor" href="#bbox"></a>BoundingBox Object</h4>
<div class="paragraph">
<div class="title">Example 13: Example of a LifeSpan object</div>
<p>A BoundingBox object is a JSON array of length \(2*n\) where \(n\)
is the number of dimensions represented in the spatial bounding box.
The order of values follows the axes order of single position of longitude, latitude, and elevation.
The expression of an element in the array refers to the default spatial CRS object, i.e., WGS 84.</p>
</div>
</div>
<div class="sect3 757083">
<h4 id="geometry"><a class="anchor" href="#geometry"></a>Geometry Object</h4>
<div class="paragraph">
<div class="title">Example 14: Example of a BoundingBox object</div>
<p>A Geometry object is the same as a GeoJSON Geometry object defined in
GeoJSON <a href="https://www.ietf.org/rfc/rfc7946.txt">IETF RFC 7946</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="properties"><a class="anchor" href="#properties"></a>7.2.7. Properties Object</h4>
<div class="paragraph">
<p>A Properties object is any JSON object or a JSON null value for
the "properties" member in a GeoJSON Feature object defined in
GeoJSON <a href="https://www.ietf.org/rfc/rfc7946.txt">IETF RFC 7946</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="interpolation"><a class="anchor" href="#interpolation"></a>7.2.8. MotionCurve Objects</h4>
<div class="paragraph">
<p>In MF-JSON Prism, the concept of motion curves is important to represent various types of dynamic movements,
especially non-linear movements of features.</p>
</div>
<div class="sect4">
<h5 id="_predefined_curves"><a class="anchor" href="#_predefined_curves"></a>Predefined curves</h5>
<div class="paragraph">
<p>In order to reduce the encoding cost and the data size,
the MF-JSON Prism encoding defines five strings of built-in motion curves for the value of the <code>"interpolation"</code>
member in a TemporalPrimitiveGeometry object: <code>"Discrete"</code>, <code>"Step"</code>, <code>"Linear"</code>, <code>"Quadratic"</code>, and <code>"Cube"</code>.
For these built-in motion curves, each leaf geometry of the TemporalPrimitiveGeometry object has the same structure for the elements
in the value array of the <code>"coordinates"</code> member and the same number of single positions in the elements, except <code>"MovingPointCloud"</code>.
For example, if a leaf linestring consists of two single positions in a temporal geometry of type <code>"MovingLineString"</code>,
the other leaves also have two single positions. If a leaf polygon in a temporal geometry of type <code>"MovingPolygon"</code> has
one interior ring, the others also have one interior ring and the number of positions of rings is same.</p>
</div>
<div class="listingblock">
<div class="title">Example 15: Predefined motion curves of a TemporalPrimitiveGeometry object</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">{
    ....,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">datetimes</span><span class="delimiter">&quot;</span></span>: [...],  <span class="comment">//T={t_0, t_1, ..., t_n}</span>
    <span class="key"><span class="delimiter">&quot;</span><span class="content">coordinates</span><span class="delimiter">&quot;</span></span>: [...], <span class="comment">//G={G_0, G_1, ..., G_n}</span>
    <span class="key"><span class="delimiter">&quot;</span><span class="content">interpolation</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Discrete|Step|Linear|Quadratic|Cube</span><span class="delimiter">&quot;</span></span>, <span class="comment">// vbar | as a means to select ONE.</span>
    ....
 }</code></pre>
</div>
</div>
<div class="paragraph">
<p>When a geographic feature is moving, each variable (i.e., \(x\), \(y\), \(z\)) of position can be expressed
in terms of another variable called a parameter. The two most commonly used parameters are time and distance traveled along the path of motion.
This standard interprets a value of the <code>"interpolation"</code> member in a TemporalPrimitiveGeometry object
as parametric equations with the time parameter.
In general, parametric equations of 3D movement are represented by
any three such functions that depending on the same variable \(t\) as
\(x = x(t)\), \(y = y(t)\), and \(z = z(t)\).
In orther words, the position \(P(t)\) is described as</p>
</div>
<div class="stemblock">
<div class="content">
\[P(t) = (x(t), y(t), z(t));\]
</div>
</div>
<div class="paragraph">
<p>velocity \(v\) is the derivative of position (first derivative of position) with respect to time as follows:</p>
</div>
<div class="stemblock">
<div class="content">
\[V(t) = P'(x'(t), y'(t), z'(t));\]
</div>
</div>
<div class="paragraph">
<p>and
acceleration \(a\) is the derivative of velocity (second derivative of position) with respect to time as follows:</p>
</div>
<div class="stemblock">
<div class="content">
\[A(t) = V'(t) = P''(x''(t), y''(t), z''(t)).\]
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>For example, when a geographic feature continuously moves over time but there are
only four explicit positions as shown in <a href="#mf-interpolation">Figure 9</a>.
Depending on the parametric equation, the path of motion can be modeled with different curves in the plan.
The <code>"interpolation"</code> member allows applications to design their time-varying positions at any time using few positions and a parametric curve.
In particular, a parametric curve is associated with parametric continuity to describe the smoothness of of the parameter&#8217;s value with distance along the curve.
The various order of parametric continuity can be described as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>\(C^0\): Curves are continuous; zeroth-order parametric continuity.</p>
</li>
<li>
<p>\(C^1\): First derivatives are continuous; first-order parametric continuity.</p>
</li>
<li>
<p>\(C^2\): First and second derivatives are continuous; second-order parametric continuity.</p>
</li>
<li>
<p>\(C^n\): First through \(n\)-th derivatives are continuous.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div id="mf-interpolation" class="imageblock text-center">
<div class="content">
<img src="./images/mf-interpolation.png" alt="mf-interpolation" width="65%">
</div>
<div class="title">Figure 9. The dynamic motion of a geographic feature on parametrized curves</div>
</div>
<div class="paragraph">
<p>Given \(N=(n+1)\) leaf geometries \(G=\{G_0, G_1, ..., G_n\}\) at time instants in \(T=\{t_0, t_1, ..., t_n\}\)
with the strictly increasing condition \(t_0 &lt; t_1 &lt; ...&lt; t_n\) and one-to-one correspondence,
a temporal geometry \(TG\) can be drawn by a bundle of \(k\) temporal trajectories (i.e., parametric curves with the time parameter)
\(\{C_0, C_1, ..., C_k\}\), where \(k\) is the number of single positions in any leaf geometry. A temporal trajectory \(C\) is
drawn for each position in \(P=\{P_0, P_1, ..., P_n\}\) at each time instant in \(T=\{t_0, t_1, ..., t_n\}\) such that
\(P_i \in G_i\) and \(0 \leq i \leq n\), and its curve is realized by spline interpolation on subintervals.
Namely, a temporal trajectory is implemented by a set of piecewise low-degree polynomials \(\{ SC_{1}, SC_{2}, ..., SC_{n}\}\)
whose derivatives satisfy some continuity constraints across sub-curve boundaries.</p>
</div>
<div class="paragraph">
<p>Each type of built-in parametric curves interpolates a time-varying position
\(P(t)\) for any time instant \(t\) in the time interval \(I=[t_0, t_n\)]
on the temporal trajectory as follows:

\[
   P(t) = C(t) = \begin{cases}
       SC_{1}(t),  &amp; \quad t \in [t_0, t_1],\\
       SC_{2}(t),  &amp; \quad t \in [t_1, t_2],\\
       ...,\\
       SC_{n}(t),  &amp; \quad t \in [t_{n-1}, t_n].
   \end{cases}
\]

Note that \(C(t_0) = P_0, C(t_1) = P_1,..., C(t_{n})=P_n\).</p>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><code>"Discrete"</code> : The positions are NOT connected. The position is valid only at the time instant in \(T\).

\[
   P(t) = \begin{cases}
       P_i  &amp; \quad \text{if } t = t_i \in T\\
       \emptyset &amp; \quad \text{otherwise.}
   \end{cases}
\]
</p>
</li>
<li>
<p><code>"Step"</code> : It just jumps from one position to the next halfway through for a subinterval.
The curve is not continuous but would be useful for representing an accident or event.
This interpolation requires at least two positions, i.e., \(N \geq 2\).

 \[
  \forall t \in [t_{i-1}, t_{i}]: P(t) = \begin{cases}
   P_{i-1}  &amp; \quad \text{if } \frac{t-t_{i-1}}{t_{i}-t_{i-1}} &lt; \text{0.5}\\
   P_{i}  &amp; \quad \text{otherwise.}
 \end{cases}
 \]
</p>
</li>
<li>
<p><code>"Linear"</code> : This method is the <strong>default</strong> value of the <code>"interpolation"</code> member. It connects straight lines between positions
with zeroth-order parametric continuity (\(C^0\)) on interval \(I\). The position with respect to time is constructed
from linear splines that are two–positions interpolating polynomials. Therefore, this interpolation also requires at least two positions, i.e., \(N \geq 2\).

 \[
  \forall t \in [t_{i-1}, t_{i}]: P(t) = C(t) = SC_{i}(t) = \frac{t-t_{i}}{t_{i-1}-t_{i}}P_{i-1} + \frac{t-t_{i-1}}{t_{i}-t_{i-1}}P_{i}.
 \]
</p>
</li>
<li>
<p><code>"Quadratic"</code>: This method interpolates the position at time \(t\) by using a piecewise quadratic spline on each interval \([t_{i−1}, t_i\)]
with first-order parametric continuity (\(C^1\)).
Between consecutive positions, piecewise quadratic splines are constructed from the following parametric equations
in terms of the time variable:

 \[
  \forall t \in [t_{i-1}, t_{i}]: P(t) = C(t) = SC_i(t) = a_it^2 + b_it + c_i,\\
   SC_i(t_{i-1}) = P_{i-1}, \quad SC_i(t_{i}) = P_{i} = SC_{i+1}(t_i),\\
   P'(t_{i})=V(t_{i})=SC'_i(t_{i})=SC'_{i+1}(t_i), a_0 = 0.
 \]

It means the curve of a temporal trajectory is continuous and has continuous first derivative at the positions in \(P\) except two end positons.
For this interpolation, at least three leaves at particular times are required, i.e., \(N \geq 3\).</p>
</li>
<li>
<p><code>"Cube"</code> :This method interpolates the position at time \(t\) by
using a Catmull–Rom (cubic) spline on each interval \([t_{i−1}, t_i\)]
with first-order parametric continuity (\(C^1\)).
The Catmull-Rom splines is a method that approximate a set of points (named control points)
with a smooth polynomial function that is piecewise-defined. One of the properties of the Catmull-Rom spline is that the curve will pass through
all of the control points.
Between consecutive positions, Catmull-Rom splines are constructed from the following parametric equations
in terms of the time variable:

\[
 C(\hat{t}) = (1-\hat{t})P_i + \hat{t}P_{i+1}
\]
</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_urls_for_user_defined_parametric_curve"><a class="anchor" href="#_urls_for_user_defined_parametric_curve"></a>URLs for user-defined parametric curve</h5>
<div class="paragraph">
<p>If applications need to define their own interpolation methods, the <code>"interpolation"</code> member
in the TemporalPrimitiveGeometry object has a URL to
address a JSON array of parametric equations defined on a set of intervals of parameter \(t\)-value.</p>
</div>
<div class="listingblock">
<div class="title">Example 16: User-defined parametric curves</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">&quot;</span><span class="content">temporalGeometry</span><span class="delimiter">&quot;</span></span>: {
    <span class="key"><span class="delimiter">&quot;</span><span class="content">datetimes</span><span class="delimiter">&quot;</span></span>: [...],  <span class="comment">//T={t_0, t_1, ..., t_n}</span>
    <span class="key"><span class="delimiter">&quot;</span><span class="content">coordinates</span><span class="delimiter">&quot;</span></span>: [...], <span class="comment">//G={G_0, G_1, ..., G_n}</span>
    <span class="key"><span class="delimiter">&quot;</span><span class="content">interpolation</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.opengis.net/spec/movingfeatures/json/1.0/prism/example/motioncurve</span><span class="delimiter">&quot;</span></span>,
    ....
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The URL indicates a JSON array composing of a JSON object which has two members of <code>"coefficients"</code> and <code>"time"</code>
to represent a parametric equation within a temporal interval.
The position \(P(t)\) at time position \(t\) is derived
from a <code>"coefficients"</code> instance as a multidimensional array of <strong>polynomials</strong> of \((x(t), y(t), z(t))\)
coordinates during a particular time interval.</p>
</div>
<div class="stemblock">
<div class="content">
\[[x(t) = a_{n-1}t^{n-1} + a_{n-2}t^{n-2} + ... + a_0t^0]\]
</div>
</div>
<div class="stemblock">
<div class="content">
\[[y(t) = b_{n-1}t^{n-1} + b_{n-2}t^{n-2} + ... + b_0t^0]\]
</div>
</div>
<div class="stemblock">
<div class="content">
\[[z(t) = c_{n-1}t^{n-1} + c_{n-2}t^{n-2} + ... + c_0t^0]\]
</div>
</div>
<div class="paragraph">
<p>If a time position does not belong to any time interval of the elements of equations,
there is no interpolation equations at that time.
The order of arrays for the interpolation formula of a temporal position SHALL
follow \(x\) (longitude), \(y\) (latitude), \(z\) (altitude) order.
The time intervals between any two elements of equations only allows empty or 0-dimensional intersection.
For compute parametric equations, the time position formatted by a character string of [ISO 8601:2004] is converted into
a signed 64-bit integer(long) value that represents milliseconds.</p>
</div>
<div class="listingblock">
<div class="title">Example 17: <a href="http://www.opengis.net/spec/movingfeatures/json/1.0/prism/example/motioncurve" class="bare">http://www.opengis.net/spec/movingfeatures/json/1.0/prism/example/motioncurve</a></div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">[
  {
    <span class="key"><span class="delimiter">&quot;</span><span class="content">coefficients</span><span class="delimiter">&quot;</span></span>: [[<span class="float">1.0</span>, <span class="float">3.0</span>, <span class="float">4.1</span>], [<span class="float">2.0</span>, <span class="float">2.1</span>, <span class="float">3.0</span>]],
    <span class="comment">// x = 1.0*t^2 + 3.0*t + 4.1 , y = 2.0*t^2 + 2.1*t + 3.0</span>
    <span class="key"><span class="delimiter">&quot;</span><span class="content">time</span><span class="delimiter">&quot;</span></span>: [<span class="string"><span class="delimiter">&quot;</span><span class="content">2011-07-14T22:01:01Z</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">2011-07-14T23:01:01Z</span><span class="delimiter">&quot;</span></span>]
  },
  {
    <span class="key"><span class="delimiter">&quot;</span><span class="content">coefficients</span><span class="delimiter">&quot;</span></span>: [[<span class="float">4.0</span>, <span class="float">2.0</span>], [<span class="float">1.0</span>, <span class="float">2.0</span>]],
      <span class="comment">// x = 4.0*t + 2.0 , y = 1.0*t + 2.0</span>
    <span class="key"><span class="delimiter">&quot;</span><span class="content">time</span><span class="delimiter">&quot;</span></span>: [<span class="string"><span class="delimiter">&quot;</span><span class="content">2011-07-14T23:01:01Z</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">2011-07-15T00:01:01Z</span><span class="delimiter">&quot;</span></span>]
  },
  {
    <span class="key"><span class="delimiter">&quot;</span><span class="content">coefficients</span><span class="delimiter">&quot;</span></span>: [[<span class="string"><span class="delimiter">&quot;</span><span class="content">sin</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">0.0</span><span class="delimiter">&quot;</span></span>], [<span class="string"><span class="delimiter">&quot;</span><span class="content">cos</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">0.0</span><span class="delimiter">&quot;</span></span>]],
      <span class="comment">// x = sin*t , y = cos*t</span>
    <span class="key"><span class="delimiter">&quot;</span><span class="content">time</span><span class="delimiter">&quot;</span></span>: [<span class="string"><span class="delimiter">&quot;</span><span class="content">2011-07-15T00:01:01Z</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">2011-07-16T00:01:01Z</span><span class="delimiter">&quot;</span></span>]
  }
]</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_media_types"><a class="anchor" href="#_media_types"></a>8. Media Types</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The MIME media type for MF-JSON text is "application/json" <a href="https://www.iana.org/assignments/media-types/application/json">[RFC4627</a>],
"application/json-seq" <a href="https://www.iana.org/assignments/media-types/application/json-seq">[RFC7464</a>],
"application/geo+json" <a href="https://www.iana.org/assignments/media-types/application/geo+json">[RFC7946</a>], or
"application/geo+json-seq" <a href="https://www.iana.org/assignments/media-types/application/geo+json-seq">[RFC8142</a>]. The default encoding is UTF-8.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="_conformance_class_abstract_test_suite_normative"><a class="anchor" href="#_conformance_class_abstract_test_suite_normative"></a>Annex A: Conformance Class Abstract Test Suite (Normative)</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Ensure that there is a conformance class for each requirements class and a test for each requirement (identified by requirement name and number)
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_conformance_class_a"><a class="anchor" href="#_conformance_class_a"></a>A.1. Conformance Class A</h3>
<div class="sect3">
<h4 id="_requirement_1"><a class="anchor" href="#_requirement_1"></a>A.1.1. Requirement 1</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test id:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">/conf/conf-class-a/req-name-1</p></td>
</tr>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Requirement:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">/req/req-class-a/req-name-1</p></td>
</tr>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test purpose:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Verify that&#8230;&#8203;</p></td>
</tr>
<tr>
<th class="tableblock halign-right valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Test method:</p></th>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Inspect&#8230;&#8203;</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_requirement_2"><a class="anchor" href="#_requirement_2"></a>A.1.2. Requirement 2</h4>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_title_normativeinformative"><a class="anchor" href="#_title_normativeinformative"></a>Annex B: Title ( {Normative/Informative} )</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Place other Annex material in sequential annexes beginning with "B" and leave final two annexes for the Revision History and Bibliography
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="_revision_history"><a class="anchor" href="#_revision_history"></a>Annex C: Revision History</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Date</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Release</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Editor</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Primary clauses modified</th>
<th class="tableblock halign-left valign-top" style="background-color: #FFFFFF;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">2018-12-01</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">0.1</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Kyoung-Sook Kim</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">all</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">initial version</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">2018-01-25</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">0.1</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Kyoung-Sook Kim, Taehoon Kim</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">all</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">first draft</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">2019-04-21</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">0.1</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Kyoung-Sook Kim</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">trajectory</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">revision</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">2019-06-20</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">0.1</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">Kyoung-Sook Kim</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">prism</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #FFFFFF;"><p class="tableblock">revision</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="Bibliography"><a class="anchor" href="#Bibliography"></a>Annex D: Bibliography</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Example Bibliography (Delete this note).</div>
<div class="paragraph">
<p>The TC has approved Springer LNCS as the official document citation type.</p>
</div>
<div class="paragraph">
<p>Springer LNCS is widely used in technical and computer science journals and other publications</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For citations in the text please use square brackets and consecutive numbers: [1], [2], [3]</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>– Actual References:</p>
</div>
<div class="paragraph">
<p>[n] Journal: Author Surname, A.: Title. Publication Title. Volume number, Issue number, Pages Used (Year Published)</p>
</div>
<div class="paragraph">
<p>[n] Web: Author Surname, A.: Title, <a href="http://Website-Url" class="bare">http://Website-Url</a></p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p></p>
</div>
<div id="WGS84" class="paragraph">
<p>[1] National Imagery and Mapping Agency, "Department of Defense World Geodetic System 1984: Its Definition and Relationships with Local Geodetic Systems", Third Edition, 1984.</p>
</div>
<div id="UCUM" class="paragraph">
<p>[2] Unified Code for Units of Measure (UCUM), <a href="https://unitsofmeasure.org" class="bare">https://unitsofmeasure.org</a></p>
</div>
<div id="EPSG" class="paragraph">
<p>[3] EPSG Geodetic Parameter Dataset, <a href="http://www.epsg.org" class="bare">http://www.epsg.org</a></p>
</div>
<div id="GJSON2008" class="paragraph">
<p>[4] The GeoJSON Format Specification. 2008, <a href="https://geojson.org" class="bare">https://geojson.org</a></p>
</div>
<div id="INTER" class="paragraph">
<p>[5] Rick Parent, Chapter 3 - Interpolating Values, Editor(s): Rick Parent, Computer Animation (Third Edition), Morgan Kaufmann, 2012, Pages 61-109, <a href="https://doi.org/10.1016/B978-0-12-415842-9.00003-4" class="bare">https://doi.org/10.1016/B978-0-12-415842-9.00003-4</a>.</p>
</div>
<div id="OBJ" class="paragraph">
<p>[6] Wavefront OBJ, <a href="https://en.wikipedia.org/wiki/Wavefront_.obj_file" class="bare">https://en.wikipedia.org/wiki/Wavefront_.obj_file</a></p>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2019-05-20 22:10:46 +0900
</div>
</div>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [["\\(", "\\)"]],
    displayMath: [["\\[", "\\]"]],
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [["\\$", "\\$"]],
    ignoreClass: "nostem|noasciimath"
  },
  TeX: { equationNumbers: { autoNumber: "none" } }
});
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>
</body>
</html>